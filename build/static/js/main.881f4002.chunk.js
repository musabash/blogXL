(this["webpackJsonpblog-xl"]=this["webpackJsonpblog-xl"]||[]).push([[0],{42:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),r=c(34),s=c.n(r),i=c(8),o=(c(42),c(9)),j=c(13),l=c.n(j),b=c(19),u=c(4),d=c(27),O=(c(44),c(54),d.a.initializeApp({apiKey:"AIzaSyDH6qgdUSNG54Q5boVg6CDks0fmY_cDPHU",authDomain:"movie-search-db.firebaseapp.com",databaseURL:"https://movie-search-db.firebaseio.com",projectId:"movie-search-db",storageBucket:"movie-search-db.appspot.com",messagingSenderId:"270785248528",appId:"1:270785248528:web:f30492ff20710d000d7995",measurementId:"G-K6RF0TX3EE"}));d.a.firestore().settings({timestampsInSnapshots:!0});var h=O.auth(),m=d.a,x=c(1),f=a.a.createContext();function p(e){var t=Object(n.useState)(),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!0),i=Object(u.a)(s,2),o=i[0],j=i[1],l=Object(n.useState)([]),b=Object(u.a)(l,2),d=b[0],O=b[1],p=Object(n.useState)([]),g=Object(u.a)(p,2),v=g[0],N=g[1];Object(n.useEffect)((function(){return h.onAuthStateChanged((function(e){r(e),j(!1)}))}),[]);var k={user:a,signin:function(e,t){return h.signInWithEmailAndPassword(e,t)},signup:function(e,t){return h.createUserWithEmailAndPassword(e,t)},signout:function(){return h.signOut()},rstPass:function(e){return h.sendPasswordResetEmail(e)},post:function(e,t){var c=m.firestore();c.collection(e).add(t).then((function(t){return c.collection(e).doc(t.id).update({id:t.id})})).catch((function(e){console.error("Error adding document: ",e.message)}))},getDoc:function(e){m.firestore().collection(e).onSnapshot((function(e){O(e.docs.map((function(e){return e.data()})))}),(function(e){console.log(e)}))},doc:d,updateUser:function(e){m.auth().currentUser.updateProfile({displayName:e,photoURL:"https://res.cloudinary.com/dqcsk8rsc/image/upload/v1577268053/avatar-1-bitmoji_upgwhc.png"}).then((function(e){return console.log(e)})),m.firestore().collection("users").doc(m.auth().currentUser.uid).set({bookmarks:[],likes:[],comments:[]}).catch((function(e){console.error("Error writing document: ",e)}))},deleteBlog:function(e,t){m.firestore().collection(e).doc(t).delete()},updateDoc:function(e,t,c){m.firestore().collection(e).doc(c).update(t)},reuploadData:function(){var e=m.firestore();e.collection("blogs").onSnapshot((function(t){t.docs.forEach((function(t){e.collection("blogscopy").add(t.data()).then((function(t){return e.collection("blogscopy").doc(t.id).update({id:t.id})}))}))}))},getUserLog:function(){m.firestore().collection("users").doc(a.uid).get().then((function(e){e.exists?N(e.data()):N("No data")})).catch((function(e){console.log(e)}))},userLog:v};return Object(x.jsx)(f.Provider,{value:k,children:!o&&e.children})}var g=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(u.a)(r,2),j=s[0],d=s[1],O=Object(n.useState)(null),h=Object(u.a)(O,2),m=h[0],p=h[1],g=Object(n.useState)(!1),v=Object(u.a)(g,2),N=(v[0],v[1]),k=Object(n.useContext)(f).signin,y=Object(o.g)();function S(){return(S=Object(b.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,p(""),N(!0),e.next=6,k(c,j);case 6:y.push("/ProfilePage"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),p("Failed to sign in: ".concat(e.t0.message));case 12:N(!1),a(""),d("");case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(x.jsxs)("div",{className:"form-area",children:[Object(x.jsx)("h1",{children:"Sign In"}),m&&Object(x.jsx)("h4",{className:"error",children:m}),Object(x.jsxs)("form",{className:"form",onSubmit:function(e){return S.apply(this,arguments)},children:[Object(x.jsx)("label",{htmlFor:"email",className:"label",children:"Email"}),Object(x.jsx)("input",{required:!0,value:c,type:"email",className:"input",name:"email",placeholder:"e.g. xyz@abc.com",onChange:function(e){a(e.target.value)}}),Object(x.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),Object(x.jsx)("input",{required:!0,value:j,type:"password",className:"input",name:"password",placeholder:"Your Password",onChange:function(e){d(e.target.value)}}),Object(x.jsx)("button",{className:"btn btn-signin",type:"submit",children:"Sign in"}),Object(x.jsx)("p",{style:{textAlign:"center",margin:"0 auto"},children:"or"}),Object(x.jsx)("input",{type:"button",className:"btn btn-google",value:"Sign in with Google"}),Object(x.jsxs)("p",{style:{textAlign:"center",margin:"0.2em auto",fontSize:"0.9em"},children:["Don't have an account?"," ",Object(x.jsx)(i.b,{to:"SignUp",className:"sub-link",children:"Sign up here"})]}),Object(x.jsx)("p",{style:{textAlign:"center",margin:"0.2em auto",fontSize:"0.8em"},children:Object(x.jsx)(i.b,{to:"PasswordReset",className:"sub-link",children:"Forgot Password?"})})]})]})};c(37);var v=function(){var e=Object(n.useContext)(f),t=e.signup,c=e.updateUser,a=Object(n.useState)(""),r=Object(u.a)(a,2),s=r[0],j=r[1],d=Object(n.useState)(""),O=Object(u.a)(d,2),h=O[0],m=O[1],p=Object(n.useState)(""),g=Object(u.a)(p,2),v=g[0],N=g[1],k=Object(n.useState)(""),y=Object(u.a)(k,2),S=y[0],_=y[1],C=Object(n.useState)(null),w=Object(u.a)(C,2),P=w[0],L=w[1],B=Object(n.useState)(!1),A=Object(u.a)(B,2),M=A[0],D=A[1],T=Object(o.g)();function F(){return(F=Object(b.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),v===S){e.next=3;break}return e.abrupt("return",L("Passwords do not match!"));case 3:return e.prev=3,L(""),D(!0),e.next=8,t(h,v);case 8:return e.next=10,c(s);case 10:T.push("/ProfilePage"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),L("Failed to create an account: ".concat(e.t0.message));case 16:D(!1),j(""),m(""),N(""),_("");case 21:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}return Object(x.jsxs)("div",{className:"form-area",children:[Object(x.jsx)("h1",{children:"Sign Up"}),Object(x.jsxs)("form",{className:"form",onSubmit:function(e){return F.apply(this,arguments)},children:[P&&Object(x.jsx)("h4",{className:"error",children:P}),Object(x.jsx)("label",{htmlFor:"displayName",className:"label",children:"User Name"}),Object(x.jsx)("input",{required:!0,value:s,type:"text",className:"input",name:"displayName",placeholder:"e.g. John123",onChange:function(e){j(e.target.value)}}),Object(x.jsx)("label",{htmlFor:"email",className:"label",children:"Email"}),Object(x.jsx)("input",{required:!0,value:h,type:"email",className:"input",name:"email",placeholder:"e.g. xyz@abc.com",onChange:function(e){m(e.target.value)}}),Object(x.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),Object(x.jsx)("input",{required:!0,value:v,type:"password",className:"input",name:"password",placeholder:"Your Password",onChange:function(e){N(e.target.value)}}),Object(x.jsx)("label",{htmlFor:"confirmedPassword",className:"label",children:"Password Confirmation"}),Object(x.jsx)("input",{required:!0,value:S,type:"password",className:"input",name:"confirmedPassword",placeholder:"Re-type Your Password",onChange:function(e){_(e.target.value)}}),Object(x.jsx)("p",{children:v===S&&"match"}),Object(x.jsx)("button",{disabled:M,className:"btn btn-signup",type:"submit",children:"Sign up"}),Object(x.jsx)("p",{style:{textAlign:"center",margin:"0 auto"},children:"or"}),Object(x.jsx)("input",{type:"button",className:"btn btn-google",value:"Sign in with Google"}),Object(x.jsxs)("p",{style:{textAlign:"center",margin:"0.2em auto",fontSize:"0.8em"},children:["Already have an account"," ",Object(x.jsx)(i.b,{to:"/",className:"sub-link",children:"Sign in here"})]})]})]})};var N=function(){return Object(x.jsxs)("ul",{className:"nav",children:[Object(x.jsx)("li",{children:Object(x.jsx)("div",{className:"logo"})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/ProfilePage",children:"Profile Page"})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/MyActivities",children:"Dashboard"})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/create",children:"New Blog"})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/blogs",children:"Blogs"})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/PasswordReset",children:"Reset Password"})})]})};var k=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(u.a)(r,2),o=s[0],j=s[1],d=Object(n.useState)(null),O=Object(u.a)(d,2),h=O[0],m=O[1],p=Object(n.useContext)(f).rstPass,g=Object(n.useState)(!1),v=Object(u.a)(g,2),N=(v[0],v[1]);function k(){return(k=Object(b.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,j(""),m(""),N(!0),e.next=7,p(c);case 7:j("An email has been sent. Check your inbox for further details."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),m(e.t0.message);case 13:a(""),N(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(x.jsxs)("div",{className:"form-area",children:[Object(x.jsx)("h1",{children:"Password Reset"}),Object(x.jsxs)("form",{action:"",className:"form",onSubmit:function(e){return k.apply(this,arguments)},children:[o&&Object(x.jsx)("h4",{className:"success",children:o}),h&&Object(x.jsx)("h4",{className:"error",children:h}),Object(x.jsx)("label",{htmlFor:"email",className:"label",children:"Email"}),Object(x.jsx)("input",{required:!0,value:c,type:"email",className:"input",name:"email",placeholder:"Enter your email",onChange:function(e){a(e.target.value)}}),Object(x.jsx)("button",{className:"btn btn-reset",type:"submit",children:"Send me a reset link"}),Object(x.jsx)(i.b,{to:"/",className:"sub-link",children:"\u2190 Back to sign in page"})]})]})},y=function(){var e=Object(n.useContext)(f),t=e.user,c=e.signout,a=e.updateUser,r=e.getUserLog,s=Object(n.useState)(""),i=Object(u.a)(s,2),j=i[0],d=i[1],O=Object(o.g)();function h(){return(h=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(""),e.prev=1,e.next=4,c();case 4:O.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),d("Failed to sign out: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){r()}),[]),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{background:"url(".concat(t.photoURL||"https://res.cloudinary.com/dqcsk8rsc/image/upload/v1577268053/avatar-1-bitmoji_upgwhc.png",")  no-repeat center center"),backgroundSize:"cover",height:"100px",width:"100px"}}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:t.displayName}),Object(x.jsx)("h3",{children:t&&t.email})]})]}),j&&Object(x.jsx)("h3",{className:"error",children:j}),Object(x.jsx)("button",{onClick:function(){return function(){return h.apply(this,arguments)}()},children:"Sign out"}),Object(x.jsx)("button",{onClick:function(){return a()},children:"USER"})]})},S=c(14),_=function(e){var t=e.par,c=e.index,a=e.body,r=e.setBody,s=Object(n.useState)(t),i=Object(u.a)(s,2),o=i[0],j=i[1];return Object(x.jsxs)("div",{className:"blog-paragraph-container",children:[Object(x.jsxs)("div",{className:"par-edit-btns",children:[Object(x.jsx)("button",{type:"button",onClick:function(){r((function(){return a.filter((function(e,t){return t!==c}))}))},children:"-"}),Object(x.jsx)("button",{type:"button",onClick:function(){r((function(e){return[].concat(Object(S.a)(e.slice(0,c+1)),[""],Object(S.a)(e.slice(c+1))).map((function(e,t){return t===c?e=o:e}))}))},children:"+"})]}),Object(x.jsx)("textarea",{className:"blog-body-par",onBlur:function(e){var t=e.target.value;r((function(e){return e.map((function(e,n){return n===c?t:e}))}))},onChange:function(e){j(e.target.value)},value:o})]})},C=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(u.a)(r,2),i=s[0],j=s[1],l=Object(n.useState)(""),b=Object(u.a)(l,2),d=b[0],O=b[1],h=Object(o.g)(),m=Object(n.useContext)(f),p=m.post,g=m.user.displayName;return Object(x.jsx)("div",{className:"create",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=(new Date).toLocaleDateString(),n=(new Date).toLocaleTimeString();0===i.length?window.alert("No blog body. Please submit after adding your blog body."):(p("blogs",{title:c,body:i,author:g,date:t,time:n,bookmark:0,likes:[],comments:[]}),h.push("/blogs"))},children:[Object(x.jsx)("label",{children:"Blog title"}),Object(x.jsx)("input",{required:!0,type:"text",value:c,onChange:function(e){return a(e.target.value)}}),Object(x.jsxs)("div",{className:"blog-body",children:[Object(x.jsx)("label",{children:"Blog body"}),i.map((function(e,t){return Object(x.jsx)(_,{index:t,par:e,body:i,setBody:j})})),Object(x.jsx)("textarea",{value:d,onChange:function(e){return O(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),j((function(e){return[].concat(Object(S.a)(e),[d])})),O(""))}})]}),Object(x.jsx)("button",{type:"submit",children:"Add blog"})]})})},w=c(3),P=c(6),L=function(e){var t=e.component,c=Object(P.a)(e,["component"]),a=Object(n.useContext)(f).user;return Object(x.jsx)(o.b,Object(w.a)(Object(w.a)({},c),{},{render:function(e){return a?Object(x.jsx)(t,Object(w.a)({},e)):Object(x.jsx)(o.a,{to:"/"})}}))},B=function(e){var t=e.component,c=e.restricted,a=Object(P.a)(e,["component","restricted"]),r=Object(n.useContext)(f).user;return Object(x.jsx)(o.b,Object(w.a)(Object(w.a)({},a),{},{render:function(e){return r&&c?Object(x.jsx)(o.a,{to:"/ProfilePage"}):Object(x.jsx)(t,Object(w.a)({},e))}}))},A=Object(n.createContext)();function M(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(x.jsx)("section",Object(w.a)(Object(w.a)({className:"accordion__container"},c),{},{children:Object(x.jsx)("div",{className:"accordion__inner",children:t})}))}M.Frame=function(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(x.jsx)("section",Object(w.a)(Object(w.a)({className:"accordion__frame"},c),{},{children:t}))},M.Item=function(e){var t=e.children,c=Object(P.a)(e,["children"]),a=Object(n.useState)(!1),r=Object(u.a)(a,2),s=r[0],i=r[1];return Object(x.jsx)(A.Provider,{value:{toggleShow:s,setToggleShow:i},children:Object(x.jsx)("div",Object(w.a)(Object(w.a)({className:"accordion__item"},c),{},{children:t}))})},M.Title=function(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(x.jsx)("h1",Object(w.a)(Object(w.a)({className:"accordion__title"},c),{},{children:t}))},M.Header=function(e){var t=e.children,c=Object(P.a)(e,["children"]),a=Object(n.useContext)(A),r=a.toggleShow,s=a.setToggleShow;return Object(x.jsxs)("div",Object(w.a)(Object(w.a)({className:"accordion__header",onClick:function(){return s(!r)}},c),{},{children:[t,r?Object(x.jsx)("span",{children:"\u25b2"}):Object(x.jsx)("span",{children:"\u25bc"})]}))},M.Body=function(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(n.useContext)(A).toggleShow?Object(x.jsx)("div",Object(w.a)(Object(w.a)({className:"accordion__body"},c),{},{children:t})):null};var D=c(22);function T(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(x.jsx)("div",Object(w.a)(Object(w.a)({className:"interaction-bar__container"},c),{},{children:t}))}T.Share=function(e){var t=Object.assign({},e);return Object(x.jsx)(D.f,Object(w.a)({},t))},T.Like=function(e){var t=e.isLiked,c=Object(P.a)(e,["isLiked"]);return t?Object(x.jsx)(D.b,Object(w.a)({},c)):Object(x.jsx)(D.e,Object(w.a)({},c))},T.Comment=function(e){var t=Object.assign({},e);return Object(x.jsx)(D.d,Object(w.a)({},t))},T.Bookmark=function(e){var t=e.bookmarked,c=Object(P.a)(e,["bookmarked"]);return t?Object(x.jsx)(D.a,Object(w.a)({},c)):Object(x.jsx)(D.c,Object(w.a)({},c))},T.Hey=function(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(x.jsx)("div",Object(w.a)(Object(w.a)({},c),{},{children:t}))};var F=T;function E(e){var t=e.toggleActive,c=Object(n.useContext)(f),a=c.userLog,r=c.doc;return Object(x.jsx)(M.Frame,{children:0===a[t].length?"No ".concat(t," yet"):a[t].map((function(e){var t=r.filter((function(t){return t.id===e}))[0];return Object(x.jsxs)(M.Item,{children:[Object(x.jsxs)(M.Header,{children:[t.title," by ",t.author]}),Object(x.jsxs)(M.Body,{children:[t.body[0].slice(0,25)," ..."]})]},e)}))})}function U(){return Object(x.jsx)(z,{children:Object(x.jsxs)(z.Frame,{children:[Object(x.jsxs)(z.Tabs,{children:[Object(x.jsx)(z.Tab,{name:"drafts",children:"Drafts"}),Object(x.jsx)(z.Tab,{name:"published",children:"Published"}),Object(x.jsx)(z.Tab,{name:"comments",children:"Comments"})]}),Object(x.jsx)(z.Title,{})]})})}var I=Object(n.createContext)();function R(e){var t=e.children,c=Object(P.a)(e,["children"]),a=Object(n.useState)("bookmarks"),r=Object(u.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)(!1),j=Object(u.a)(o,2),l=j[0],b=j[1];return Object(x.jsx)(I.Provider,{value:{toggleActive:s,setToggleActive:i,menuOpen:l,setMenuOpen:b},children:Object(x.jsx)("div",Object(w.a)(Object(w.a)({className:"dashboard__container"},c),{},{children:Object(x.jsx)("div",{className:"dashboard__inner",children:t})}))})}R.Frame=function(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(x.jsx)("section",Object(w.a)(Object(w.a)({className:"dashboard__frame"},c),{},{children:t}))},R.Item=function(e){e.children;var t=Object(P.a)(e,["children"]),c=Object(n.useContext)(I).toggleActive;return"blogs"===c?Object(x.jsx)(U,Object(w.a)({},t)):Object(x.jsx)(E,Object(w.a)({toggleActive:c},t))},R.Title=function(e){e.children;var t=Object(P.a)(e,["children"]),c=Object(n.useContext)(I).toggleActive;return Object(x.jsx)("h1",Object(w.a)(Object(w.a)({className:"dashboard__title"},t),{},{children:c}))},R.Body=function(e){var t=e.children,c=e.userLog,a=Object(P.a)(e,["children","userLog"]),r=Object(n.useContext)(I).toggleActive;return Object(x.jsxs)("div",Object(w.a)(Object(w.a)({className:"dashboard__body"},a),{},{children:[t,c[r].map((function(e){return Object(x.jsx)("p",{children:e})}))]}))},R.MenuButton=function(e){e.children;var t=Object(P.a)(e,["children"]),c=Object(n.useContext)(I),a=c.setMenuOpen,r=c.menuOpen;return Object(x.jsx)("div",Object(w.a)(Object(w.a)({className:r?"hamburger cross":"hamburger"},t),{},{onMouseEnter:function(){return a(!0)},onClick:function(){return a((function(e){return!e}))}}))},R.Menu=function(e){var t=e.children,c=Object(P.a)(e,["children"]),a=Object(n.useContext)(I),r=a.menuOpen,s=a.setMenuOpen;return Object(x.jsx)("nav",Object(w.a)(Object(w.a)({onMouseLeave:function(){return s(!1)},className:r?"dashboard__menu dashboard__menu-open":"dashboard__menu"},c),{},{children:t}))},R.MenuList=function(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(x.jsx)("ul",Object(w.a)(Object(w.a)({className:"dashboard__menu__list"},c),{},{children:t}))},R.MenuItem=function(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(x.jsx)("li",Object(w.a)(Object(w.a)({className:"dashboard__menu__item"},c),{},{children:t}))},R.MenuLink=function(e){var t=e.children,c=e.name,a=Object(P.a)(e,["children","name"]),r=Object(n.useContext)(I),s=r.setToggleActive,i=r.setMenuOpen;return Object(x.jsx)("p",Object(w.a)(Object(w.a)({name:c,className:"dashboard__menu__link",onClick:function(){s(c),i((function(e){return!e}))}},a),{},{children:t}))};var q=Object(n.createContext)();function z(e){var t=e.children,c=Object(P.a)(e,["children"]),a=Object(n.useState)("drafts"),r=Object(u.a)(a,2),s=r[0],i=r[1];return Object(x.jsx)(q.Provider,{value:{tab:s,setTab:i},children:Object(x.jsx)("div",Object(w.a)(Object(w.a)({className:"dashboard__container"},c),{},{children:Object(x.jsx)("div",{className:"dashboard__inner",children:t})}))})}function Y(){var e=Object(n.useContext)(f);e.userLog,e.doc;return Object(x.jsx)("div",{children:Object(x.jsxs)(R,{children:[Object(x.jsxs)(R.Frame,{children:[Object(x.jsx)(R.MenuButton,{}),Object(x.jsx)(R.Menu,{children:Object(x.jsxs)(R.MenuList,{children:[Object(x.jsx)(R.MenuItem,{children:Object(x.jsx)(R.MenuLink,{name:"blogs",children:"Your Blogs"})}),Object(x.jsx)(R.MenuItem,{children:Object(x.jsx)(R.MenuLink,{name:"bookmarks",children:"Your Bookmarks"})}),Object(x.jsx)(R.MenuItem,{children:Object(x.jsx)(R.MenuLink,{name:"yourRecentViews",children:"Your Recent Views"})}),Object(x.jsx)(R.MenuItem,{children:Object(x.jsx)(R.MenuLink,{name:"likes",children:"You Liked"})})]})})]}),Object(x.jsxs)(R.Frame,{children:[Object(x.jsx)(R.Title,{}),Object(x.jsx)(R.Item,{})]})]})})}z.Frame=function(e){var t=e.children,c=Object(P.a)(e,["children"]);return Object(x.jsx)("section",Object(w.a)(Object(w.a)({className:"dashboard__frame"},c),{},{children:t}))},z.Tabs=function(e){var t=e.children,c=Object(P.a)(e,["children"]),a=Object(n.useState)(15),r=Object(u.a)(a,2),s=r[0],i=r[1];return Object(x.jsxs)("div",{className:"tabs-container",children:[Object(x.jsx)("div",Object(w.a)(Object(w.a)({onClick:function(e){i(e.target.offsetLeft-5)},className:"dashboard__tabs"},c),{},{children:t})),Object(x.jsx)("div",{className:"slider-container",children:Object(x.jsx)("div",{className:"slider",style:{transform:"translateX(".concat(s,"px)")}})})]})},z.Title=function(e){e.children;var t=Object(P.a)(e,["children"]),c=Object(n.useContext)(q).tab;return Object(x.jsx)("h1",Object(w.a)(Object(w.a)({className:"dashboard__title"},t),{},{children:c}))},z.Tab=function(e){var t=e.children,c=e.name,a=Object(P.a)(e,["children","name"]),r=Object(n.useContext)(q),s=r.tab,i=r.setTab;return Object(x.jsx)("div",Object(w.a)(Object(w.a)({name:c,className:s===c?"dashboard__tab active-tab":"dashboard__tab",onClick:function(e){i(c)}},a),{},{children:t}))},z.Body=function(e){var t=e.children,c=e.userLog,a=Object(P.a)(e,["children","userLog"]),r=Object(n.useContext)(q).tab;return Object(x.jsxs)("div",Object(w.a)(Object(w.a)({className:"dashboard__body"},a),{},{children:[t,c[r].map((function(e){return Object(x.jsx)("p",{children:e})}))]}))};var H=function(e){var t=e.blogs,c=e.title;return Object(x.jsxs)("div",{className:"blog-list",children:[Object(x.jsx)("h2",{children:c}),t.map((function(e){return Object(x.jsx)("div",{className:"blog-preview",children:Object(x.jsxs)(i.b,{to:"blogs/".concat(e.id),children:[Object(x.jsx)("h2",{children:e.title}),Object(x.jsxs)("p",{children:["Written by: ",e.author]})]})},e.id)}))]})};function G(){var e=Object(n.useContext)(f),t=e.getDoc,c=e.doc,a=e.getUserLog;return Object(n.useEffect)((function(){t("blogs"),a()}),[]),Object(x.jsx)("div",{className:"home",children:c&&Object(x.jsx)(H,{blogs:c,title:"All Blogs"})})}var W=function(e){var t=e.id,c=e.deleteBlog,n=Object(o.g)();return Object(x.jsx)("button",{onClick:function(){c("blogs",t),n.push("/blogs")},children:"delete"})},J=function(e){var t=e.title,c=e.setTitle,a=Object(n.useState)(t),r=Object(u.a)(a,2),s=r[0],i=r[1];return Object(x.jsx)("input",{className:"blog-title",onChange:function(e){var t=e.target.value;i(t),c(t)},value:s})},K=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(o.h)().id,s=Object(n.useContext)(f),i=s.doc,j=s.deleteBlog,l=s.updateDoc,b=s.user,d=s.userLog,O=i.filter((function(e){return e.id===r})),h=Object(u.a)(O,1)[0],m=Object(n.useState)(h.body),p=Object(u.a)(m,2),g=p[0],v=p[1],N=Object(n.useState)(h.title),k=Object(u.a)(N,2),y=k[0],C=k[1],w=Object(n.useState)(h.likes),P=Object(u.a)(w,2),L=P[0],B=P[1],A=Object(n.useState)(d.likes),M=Object(u.a)(A,2),D=M[0],T=M[1],E=Object(n.useState)(d.bookmarks),U=Object(u.a)(E,2),I=U[0],R=U[1],q=Object(n.useState)(h.bookmark),z=Object(u.a)(q,2),Y=z[0],H=z[1],G=Object(n.useState)((function(){return Object(S.a)(L).includes(b.uid)})),K=Object(u.a)(G,2),V=K[0],X=K[1],Q=Object(n.useState)((function(){return Object(S.a)(I).includes(r)})),Z=Object(u.a)(Q,2),$=Z[0],ee=Z[1],te=(Object(o.g)(),b.displayName===h.author);function ce(e){var t=e.name;return Object(x.jsx)("button",{onClick:function(){return a((function(e){return!e}))},children:t})}function ne(){return Object(x.jsx)("div",{className:"blog-body",children:g.map((function(e,t){return c?Object(x.jsx)(_,{index:t,par:e,body:g,setBody:v},t):Object(x.jsx)("p",{children:e},t)}))})}return Object(x.jsxs)("div",{className:"blog-details",children:[Object(x.jsxs)("article",{children:[c?Object(x.jsx)(J,{title:y,setTitle:C}):Object(x.jsx)("h2",{children:y}),Object(x.jsxs)("p",{className:"blog-author",children:["Written by ",h.author]}),Object(x.jsx)("p",{className:"blog-date",children:h.date}),Object(x.jsx)(ne,{}),te&&Object(x.jsx)(ce,{name:c?"cancel":"edit"}),te&&c&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(W,{id:r,deleteBlog:j}),Object(x.jsx)("button",{onClick:function(){l("blogs",{title:y,body:g},r),a((function(e){return!e}))},children:"save"})]})]}),Object(x.jsxs)(F,{children:[Object(x.jsx)(F.Share,{}),Object(x.jsx)(F.Comment,{}),Object(x.jsx)(F.Bookmark,{bookmarked:$,onClick:function(){var e=[],t=[];$?(e=I.filter((function(e){return e!==r})),t=Y.filter((function(e){return e!==b.uid}))):(e=[].concat(Object(S.a)(I),[r]),t=[].concat(Object(S.a)(Y),[b.uid])),H(Object(S.a)(t)),R(Object(S.a)(e)),l("users",{bookmarks:e},b.uid),l("blogs",{bookmark:t},r),ee((function(e){return!e}))}}),Object(x.jsx)(F.Like,{isLiked:V,onClick:function(){var e=[],t=[];V?(t=D.filter((function(e){return e!==r})),e=L.filter((function(e){return e!==b.uid}))):(t=[].concat(Object(S.a)(D),[r]),e=[].concat(Object(S.a)(L),[b.uid])),T(t),B(e),l("users",{likes:t},b.uid),l("blogs",{likes:e},r),X((function(e){return!e}))}})]}),Object(x.jsx)("p",{children:L.length})]})};var V=function(){return Object(x.jsxs)("div",{className:"app",children:[Object(x.jsx)(N,{}),Object(x.jsx)("div",{className:"content",children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(B,{exact:!0,path:"/",restricted:!0,component:g}),Object(x.jsx)(L,{path:"/ProfilePage",component:y}),Object(x.jsx)(L,{path:"/create",component:C}),Object(x.jsx)(L,{path:"/MyActivities",component:Y}),Object(x.jsx)(L,{exact:!0,path:"/blogs",component:G}),Object(x.jsx)(o.b,{path:"/PasswordReset",children:Object(x.jsx)(k,{})}),Object(x.jsx)(o.b,{path:"/SignUp",children:Object(x.jsx)(v,{})}),Object(x.jsx)(o.b,{path:"/blogs/:id",render:function(){return Object(x.jsx)(K,{})}})]})})]})};s.a.render(Object(x.jsx)(p,{children:Object(x.jsx)(i.a,{children:Object(x.jsx)(V,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.881f4002.chunk.js.map