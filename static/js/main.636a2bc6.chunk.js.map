{"version":3,"sources":["components/menulist.js","firebase.js","hooks/use-auth-listener.js","contexts/UserContext.js","components/buttons/go-back.js","components/buttons/edit-button.js","components/buttons/delete-button.js","containers/interaction-bar-container.js","components/text-area.js","components/meta-data.js","containers/edit-buttons-container.js","components/blog-details.js","components/accordion/styles/accordion.js","components/accordion/index.js","components/interaction-bar/index.js","components/user-blogs.js","components/dashboard/styles/dashboard.js","containers/dasboard-active-element-container.js","hooks/useDocument.js","components/dashboard/index.js","components/blog-list.js","components/tab-view/index.js","components/feed/index.js","components/form/styles/form.js","components/form/index.js","components/profile-picture/profile-picture-style.js","components/profile-picture/index.js","components/index.js","components/sign-in-avatar.js","components/user-menu.js","components/Header.js","pages/SignIn.js","pages/SignUp.js","pages/PasswordReset.js","components/loading-bar.js","pages/ProfilePage.js","pages/Create.js","components/PrivateRoute.js","components/PublicRoute.js","containers/MyActivities.js","pages/Blogs.js","pages/page-not-found.js","routes/main-routes.js","App.js","global-styles.js","index.js"],"names":["menuList","name","id","to","app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","settings","timestampsInSnapshots","auth","storage","useAuthListener","useState","JSON","parse","localStorage","getItem","user","setUser","useEffect","listener","onAuthStateChanged","authUser","setItem","stringify","removeItem","UserContext","React","createContext","UserContextProvider","props","loading","setLoading","doc","setDocs","userLog","setUserLog","picLoadingPercent","setPicLoadingPercent","error","setError","coll","docId","a","docRef","collection","get","then","data","catch","console","log","updateUser","obj","currentUser","updateProfile","value","getDocument","getCollection","onSnapshot","snapshot","docs","map","deleteBlog","delete","updateDoc","update","reuploadData","forEach","add","getUserLog","uid","exists","uploadPic","file","uploadTask","ref","child","put","contentType","on","TaskEvent","STATE_CHANGED","progress","bytesTransferred","totalBytes","code","getDownloadURL","downloadURL","photoURL","Provider","children","GoBackBtn","history","className","onClick","goBack","EditButton","handleEdit","DeleteButton","useHistory","push","InteractionBarContainer","authorised","blog","liked","setLiked","bookmarked","setBookmarked","handleInteraction","currentStatus","key","RefBlog","RefUser","FieldValue","arrayRemove","arrayUnion","likes","includes","bookmarks","Share","alert","Authorised","length","comments","Comment","Bookmark","Like","isLiked","TextArea","onChangeHandler","height","setHeight","hiddenTextRef","useRef","textareaRef","current","offsetHeight","onChange","e","target","style","position","fontSize","visibility","remarkPlugins","gfm","MetaData","dataPrimary","dataSecondary","span","EditButtonsContainer","isEditable","handleDelete","handleUpdate","published","StyledLink","styled","ReachRouterLink","Container","section","Inner","div","Frame","Item","Title","h1","Header","ToggleContext","Accordion","restProps","toggleShow","setToggleShow","useContext","Body","InteractionBar","Hey","UserBlogs","blogs","setBlogs","unsubscribe","filter","authorId","tabs","title","TabView","Tabs","tab","index","Tab","Slider","Menu","nav","left","menuOpen","Hamburger","MenuList","ul","MenuItem","li","MenuLink","p","DashboardActiveElement","toggleActive","setData","content","setContent","useDocument","elm","author","body","slice","Dashboard","prev","setToggleActive","setMenuOpen","handleClick","toUpperCase","onMouseLeave","BlogList","showAuthor","ProfilePicture","displayName","size","borderRadius","date","sliderPos","TabContext","setTab","setSliderPos","tabCount","Feed","blogList","Banner","Trending","Discover","All","Error","Success","Base","form","Text","colour","TextSmall","h2","Link","Input","input","Submit","button","Form","ImageContainer","SubText","subText","BlogDetails","useParams","setBlog","dispatch","type","payload","isPublished","useReducer","state","action","components","SignInAvatar","src","alt","backgroundSize","width","UserMenu","signOut","message","SignIn","email","setEmail","password","setPassword","isInvalid","onSubmit","preventDefault","signInWithEmailAndPassword","required","placeholder","autoComplete","disabled","SignUp","setDisplayName","createUserWithEmailAndPassword","result","set","drafts","PasswordReset","emailSent","setEmailSent","msg","sendPasswordResetEmail","Bar","LoadingBar","ProfilePage","setFile","inputFileRef","photoUrl","setPhotoUrl","errorCodes","unauthorized","canceled","unknown","click","files","err","Create","blogId","setBlogId","isFirstClick","setIsFirstClick","setTitle","setBody","handlePost","Date","toLocaleDateString","time","toLocaleTimeString","window","onBlur","PrivateRoute","Component","component","rest","render","PublicRoute","restricted","MyActivities","item","Blogs","Promise","resolve","GoBackButton","PageNotFound","MainRoutes","exact","path","App","GlobalStyles","createGlobalStyle","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.636a2bc6.chunk.js","sourcesContent":["export const menuList = [\r\n  {\r\n    name: 'Dashboard',\r\n    id: 0,\r\n    to: '/MyActivities'\r\n  },\r\n  {\r\n    name: 'Profile Page',\r\n    id: 1,\r\n    to: '/ProfilePage'\r\n  },\r\n  {\r\n    name: 'Create New Blog',\r\n    id: 2,\r\n    to: '/create'\r\n  },\r\n  {\r\n    name: 'All Blogs',\r\n    id: 3,\r\n    to: '/blogs'\r\n  },\r\n  {\r\n    name: 'Reset Password',\r\n    id: 4,\r\n    to: '/PasswordReset'\r\n  },\r\n]\r\n","import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/storage\"\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n})\r\nexport const db = firebase.firestore()\r\nfirebase.firestore().settings({timestampsInSnapshots: true})\r\nexport const auth = app.auth()\r\nexport const storage = firebase.storage();\r\nexport default firebase\r\n","import { useState, useEffect } from 'react';\r\nimport { auth } from '../firebase';\r\n\r\nexport default function useAuthListener() {\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('authUser')));\r\n    \r\n    useEffect(() => {\r\n        const listener = auth.onAuthStateChanged((authUser) => {\r\n            if (authUser) {\r\n                localStorage.setItem('authUser', JSON.stringify(authUser));\r\n                setUser(authUser);\r\n            } else {\r\n                localStorage.removeItem('authUser');\r\n                setUser(null);\r\n            }\r\n        });\r\n        \r\n        return () => listener();\r\n    }, []);\r\n    \r\n    return { user };\r\n}","import React, { useState, useEffect } from \"react\"\r\nimport firebase, {db, auth, storage} from \"../firebase\"\r\nimport { useAuthListener } from \"../hooks\"\r\n\r\nconst UserContext = React.createContext()\r\nfunction UserContextProvider(props) {\r\n  const [loading, setLoading] = useState(true)\r\n  const [doc, setDocs] = useState([])\r\n  const [userLog, setUserLog] = useState([])\r\n  const [picLoadingPercent, setPicLoadingPercent] = useState(0)\r\n  const [error, setError] = useState(\"\")\r\n  const {user} = useAuthListener()\r\n\r\n  function getCollection(coll) {\r\n    db\r\n    .collection(coll)\r\n    .onSnapshot((snapshot) => {\r\n      setDocs(snapshot.docs.map(doc => doc.data()))\r\n    }, (error) => {console.log(error)})\r\n  }\r\n\r\n  async function getDocument(coll, docId) {\r\n    const docRef = db.collection(coll).doc(docId)\r\n    return docRef.get().then((doc) => doc.data())\r\n    .catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n    })\r\n  }\r\n\r\n  function getUserLog() {\r\n    const docRef = db.collection(\"users\").doc(user.uid)\r\n      docRef.get().then((doc) => {\r\n        if (doc.exists) {\r\n          setUserLog(doc.data())\r\n        } else {\r\n          setUserLog(\"No data\")\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n  } \r\n\r\n  function reuploadData() {\r\n    db\r\n    .collection(\"blogs\")\r\n      .onSnapshot((snapshot) => {\r\n        snapshot.docs.forEach(doc => {\r\n          db.collection(\"blogscopy\").add(doc.data())\r\n          .then((docRef) => {\r\n            return db.collection(\"blogscopy\").doc(docRef.id).update({\r\n              id: docRef.id\r\n            })\r\n          })\r\n        })\r\n      })\r\n  }\r\n  \r\n  function uploadPic(file) {\r\n    console.log(file)\r\n    const metadata = {\r\n      contentType: 'image/jpeg'\r\n    };\r\n    const storageRef = storage.ref();\r\n    const uploadTask = storageRef.child('images/' + user.uid).put(file, metadata);\r\n\r\n    uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, \r\n      (snapshot) => {\r\n        let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n        setPicLoadingPercent(progress);\r\n        // switch (snapshot.state) {\r\n        //   case firebase.storage.TaskState.PAUSED:\r\n        //     console.log('Upload is paused');\r\n        //     break;\r\n        //   case firebase.storage.TaskState.RUNNING:\r\n        //     console.log('Upload is running');\r\n        //     break;\r\n        //   default:\r\n        //     console.log(snapshot.state);\r\n\r\n        // }\r\n      }, \r\n      (error) => {\r\n        switch (error.code) {\r\n          case 'storage/unauthorized':\r\n            setError(\"unauthorised request\")\r\n            break;\r\n          case 'storage/canceled':\r\n            setError(\"canceled request\")\r\n            break;\r\n          case 'storage/unknown':\r\n            setError(\"unknown file\")\r\n            break;\r\n          default:\r\n            setError('')\r\n        }\r\n      }, \r\n      () => {\r\n        uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n          updateUser({photoURL: downloadURL})\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  function deleteBlog(coll, id) {\r\n    db.collection(coll).doc(id).delete()\r\n  }\r\n  \r\n  function updateDoc(coll, obj, id) {\r\n    db.collection(coll).doc(id).update(obj)\r\n  }\r\n\r\n  function updateUser(obj){\r\n    const userRef = firebase.auth().currentUser\r\n    userRef.updateProfile(obj)\r\n    .catch((error) => {\r\n      console.error(\"Error writing document: \", error)\r\n    })\r\n  }\r\n  \r\n  useEffect(() => {\r\n        setLoading(false)\r\n    }, [])\r\n  const value = {\r\n    user,\r\n    getDocument,\r\n    getCollection,\r\n    doc,\r\n    updateUser,\r\n    deleteBlog,\r\n    updateDoc,\r\n    reuploadData,\r\n    getUserLog,\r\n    userLog,\r\n    uploadPic,\r\n    picLoadingPercent,\r\n  }\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      {loading ? <p>Loading...</p> : props.children}\r\n      {error && <p>{error}</p>}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport {UserContext, UserContextProvider}","import React from 'react'\r\n\r\nexport default function GoBackBtn({history}) {\r\n  return (\r\n    <button\r\n        className=\"go-back\"\r\n        onClick={() => history.goBack()}\r\n      >\r\n        ◀ Back\r\n    </button>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function EditButton({name, handleEdit}) {\r\n  return (\r\n    <button onClick={handleEdit}>{name}</button>\r\n  )\r\n}","import { useHistory } from \"react-router-dom\"\r\n\r\nconst DeleteButton = ({id, deleteBlog}) => {\r\n  const history = useHistory()\r\n\r\n  return <button onClick={() => {\r\n            deleteBlog(\"blogs\", id)\r\n            history.push('/blogs')\r\n          }}>delete</button>\r\n}\r\nexport default DeleteButton;","import {useEffect, useState} from \"react\"\r\nimport { InteractionBar } from \"../components\"\r\nimport { GoBackBtn } from \"../components/buttons\"\r\nimport firebase, { db } from \"../firebase\"\r\n\r\nexport default function InteractionBarContainer({id, authorised, blog, user, history}) {\r\n  const [liked, setLiked] = useState()\r\n  const [bookmarked, setBookmarked] = useState()\r\n\r\n  useEffect(() => {\r\n    if (blog){\r\n      setLiked(blog.likes.includes(user.uid))\r\n      setBookmarked(blog.bookmarks.includes(user.uid))\r\n    }  \r\n    }, [blog])\r\n\r\n  function handleInteraction(currentStatus, key) {\r\n    const RefBlog = db.collection(\"blogs\").doc(id);\r\n    const RefUser = db.collection(\"users\").doc(user.uid);\r\n    if (currentStatus){\r\n      RefBlog.update({\r\n        [key]: firebase.firestore.FieldValue.arrayRemove(user.uid)\r\n      })\r\n      RefUser.update({\r\n        [key]: firebase.firestore.FieldValue.arrayRemove(id)\r\n      })\r\n    } else {\r\n      RefBlog.update({\r\n        [key]: firebase.firestore.FieldValue.arrayUnion(user.uid)\r\n      })\r\n      RefUser.update({\r\n        [key]: firebase.firestore.FieldValue.arrayUnion(id)\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <InteractionBar>\r\n      <GoBackBtn history={history}/>\r\n      <InteractionBar.Share onClick={() => alert(\"This property will be added soon\")}/>\r\n      {\r\n        authorised\r\n        ?\r\n        <InteractionBar.Authorised length={\r\n          [blog.comments.length, blog.bookmarks.length, blog.likes.length]}/>\r\n        :\r\n        <>\r\n        <InteractionBar.Comment onClick={() => alert(\"This property will be added soon\")}/>\r\n        <InteractionBar.Bookmark bookmarked={bookmarked} onClick={() => handleInteraction(bookmarked, \"bookmarks\")} />\r\n        <InteractionBar.Like isLiked={liked} onClick={() => handleInteraction(liked, \"likes\")} />\r\n        </>\r\n      }\r\n    </InteractionBar>\r\n  )\r\n}\r\n","import React, { useRef, useState, useEffect } from 'react'\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport gfm from 'remark-gfm';\r\n  \r\nexport default function TextArea({name, value, onChangeHandler}) {\r\n  const [height, setHeight] = useState(\"50px\")\r\n  const hiddenTextRef = useRef()\r\n  const textareaRef = useRef()\r\n  \r\n\r\n  useEffect(() => {\r\n    hiddenTextRef && setHeight(hiddenTextRef.current.offsetHeight)\r\n  }, [value])\r\n\r\n  const onChange = (e) => {\r\n    onChangeHandler({[name]: e.target.value})\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <textarea\r\n        onChange={onChange}\r\n        ref={textareaRef}\r\n        style={{\r\n          height: height\r\n        }}\r\n        value={value}\r\n      />\r\n      <div ref={hiddenTextRef} style={{position: \"absolute\", fontSize: \"2.5rem\", visibility: \"hidden\"}}>\r\n        <ReactMarkdown\r\n          remarkPlugins={[gfm]}\r\n          className=\"markdown\"\r\n          children={value}\r\n        />\r\n      </div>\r\n      \r\n    </>\r\n  )\r\n  \r\n}","import React from 'react'\r\n\r\nexport default function MetaData({children, dataPrimary, dataSecondary, span}) {\r\n  return (\r\n    <div className=\"metadata\">\r\n      <h3 className=\"primary__metadata\">{dataPrimary} <span>{span}</span></h3>\r\n      <h4 className=\"secondary__metadata\">{dataSecondary}</h4>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { DeleteButton, EditButton } from '../components/buttons'\r\n\r\nexport default function EditButtonsContainer({isEditable, handleEdit, id, authorised, handleDelete, handleUpdate, published}) {\r\n\r\n  return (\r\n    <div className=\"edit__btns__container\">\r\n      {authorised && <EditButton name={isEditable ? \"cancel\" : \"edit\"} handleEdit={handleEdit}/>}\r\n      {authorised && isEditable && \r\n        <>\r\n          <DeleteButton\r\n            id={id}\r\n            deleteBlog={handleDelete}  \r\n          />\r\n          <EditButton handleEdit={handleUpdate} name=\"save\"/>\r\n          {!published && <EditButton handleEdit={() => handleUpdate(true)} name=\"publish\"/>}\r\n        </>\r\n      }  \r\n    </div>\r\n  )\r\n}\r\n","import { useParams, useHistory } from \"react-router-dom\"\r\nimport { UserContext } from \"../contexts/UserContext\"\r\nimport {useContext, useReducer, useState, useEffect, useRef} from \"react\"\r\nimport InteractionBarContainer from \"../containers/interaction-bar-container\"\r\nimport { db } from \"../firebase\"\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport gfm from 'remark-gfm';\r\nimport TextArea from \"./text-area\"\r\nimport MetaData from \"./meta-data\"\r\nimport EditButtonsContainer from \"../containers/edit-buttons-container\"\r\n\r\n\r\nexport const BlogDetails = () => {\r\n  const { id } = useParams()\r\n  const { deleteBlog, updateDoc, user } = useContext(UserContext)\r\n  const [blog, setBlog] = useState('')\r\n  const [error, setError] = useState(null)\r\n  const history = useHistory();\r\n  const authorised = user ? user.uid === blog.authorId : false\r\n\r\n  useEffect(() => {\r\n    const docRef = db.collection('blogs').doc(id)\r\n    docRef.get().then((doc) => {\r\n    if (doc.exists) {\r\n      let unsubscribe = db.collection('blogs').onSnapshot((snapshot) => {\r\n        setBlog(snapshot.docs.filter(doc => doc.id === id)[0].data())\r\n      })\r\n      return (() => unsubscribe())\r\n    } else {\r\n        alert(\"There is no such document!\")\r\n        history.goBack()\r\n    }})\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (blog) {\r\n      dispatch({type: 'ON_CHANGE', payload: {title: blog.title, body: blog.body, isPublished: blog.published}})\r\n    }\r\n  }, [blog])\r\n\r\n  function onChangeHandler(obj) {\r\n    dispatch({type: 'ON_CHANGE', payload: obj})    \r\n  }\r\n\r\n  let [state, dispatch] = useReducer((state, action) => {\r\n    switch(action.type) {\r\n      case 'HANDLE_EDIT': \r\n        return { ...state, body: blog.body, isEditable: !state.isEditable }\r\n      \r\n      case 'HANDLE_UPDATE': \r\n        const obj = {title: state.title, body: state.body, published: state.isPublished}\r\n        updateDoc(\"blogs\", obj, id)\r\n        return {\r\n          ...state,\r\n          isEditable: !state.isEditable\r\n        }\r\n      case 'HANDLE_DELETE': {\r\n        deleteBlog(\"blogs\", id)\r\n        history.goBack()\r\n        return state\r\n      }\r\n\r\n      case 'ON_CHANGE': \r\n        return {\r\n          ...state,\r\n          ...action.payload\r\n        }\r\n\r\n      case 'PUBLISH':\r\n        updateDoc(\"blogs\", {published: true}, id)\r\n        return {\r\n          ...state,\r\n          isPublished: true\r\n        }\r\n\r\n      default:\r\n        return state\r\n    }\r\n  }, {\r\n    isEditable: false,\r\n    body: \"\",\r\n    isPublished: \"\",\r\n    title: \"\"\r\n  })\r\n  \r\n  return (\r\n    error ? <p>{error}</p> : <>\r\n      <InteractionBarContainer \r\n        history={history}\r\n        user={user}\r\n        blog={blog}\r\n        authorised={authorised}\r\n        id={id}\r\n      />\r\n      <div className=\"blog-details\">\r\n        <article>\r\n          <MetaData\r\n            span={blog.author} \r\n            dataPrimary=\"Written by\"\r\n            dataSecondary={blog.date}\r\n          />\r\n          {\r\n            state.isEditable \r\n            ?\r\n            <div className=\"blog-title\">\r\n              <TextArea\r\n                name=\"title\"\r\n                value={state.title}\r\n                onChangeHandler={onChangeHandler}\r\n              />\r\n            </div>\r\n            :\r\n            <ReactMarkdown \r\n              remarkPlugins={[gfm]}\r\n              className=\"markdown\"\r\n              children={state.title} \r\n              components={{p: 'h1'}}\r\n            />\r\n          }         \r\n\r\n          <div className=\"blog-body\">\r\n            {\r\n              state.isEditable\r\n              ?\r\n              <TextArea\r\n                name=\"body\"\r\n                value={state.body}\r\n                onChangeHandler={onChangeHandler}\r\n              />\r\n              :\r\n              <ReactMarkdown\r\n                remarkPlugins={[gfm]}\r\n                className=\"markdown\"\r\n                children={state.body}\r\n              />\r\n            }\r\n          </div>\r\n          <EditButtonsContainer \r\n            isEditable={state.isEditable} \r\n            handleEdit={() => dispatch({type: 'HANDLE_EDIT'})}\r\n            id={id}\r\n            published={state.isPublished}\r\n            authorised={authorised}\r\n            handleDelete={() => dispatch({type: 'HANDLE_DELETE'})}\r\n            handleUpdate={() => dispatch({type: 'HANDLE_UPDATE'})}\r\n          />         \r\n        </article>\r\n      </div>\r\n    </>\r\n   );\r\n}","import styled from 'styled-components';\r\nimport { Link as ReachRouterLink  } from 'react-router-dom';\r\n\r\nexport const StyledLink = styled(ReachRouterLink)`\r\n  box-sizing: border-box;\r\n  transition: max-height 0.25s cubic-bezier(0.5, 0, 0.1, 1);\r\n  font-size: 20px;\r\n  font-weight: normal;\r\n  line-height: normal;\r\n  background: #0077b6;\r\n  color: white;\r\n  padding: 0.4em 0.6em 0.4em 0.6em;\r\n  user-select: none;\r\n  align-items: center;\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  transition: all 250ms cubic-bezier(.5, 0, .5, 1);\r\n  text-decoration: none;\r\n  display: block;\r\n  cursor: pointer;\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n  \r\n  @media (max-width: 600px) {\r\n    font-size: 16px;\r\n    line-height: 22px;\r\n  }\r\n`;\r\n\r\nexport const Container = styled.section`\r\n  display: flex;\r\n  border-bottom: 4px solid #222;\r\n`;\r\n\r\nexport const Inner = styled.div`\r\n  display: flex;\r\n  padding: 70px 45px;\r\n  flex-direction: column;\r\n  max-width: 815px;\r\n  margin: auto;\r\n`;\r\n\r\nexport const Frame = styled.section`\r\n  margin-bottom: 1em;\r\n  max-width: 1200px;\r\n`;\r\n\r\nexport const Item = styled.div`\r\n  color: #ffffff;\r\n  margin-bottom: 1em;\r\n  &:first-of-type {\r\n  margin-top: 1em;\r\n}\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: 50px;\r\n  line-height: 1.1;\r\n  margin-top: 0;\r\n  margin-bottom: 0.6em;\r\n  color: rgb(255, 255, 255);\r\n  text-align: center;\r\n  \r\n  @media (max-width: 600px) {\r\n      font-size: 35px;\r\n  }\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  margin-bottom: 2px;\r\n  font-size: 26px;\r\n  color: white;\r\n  font-weight: normal;\r\n  background: #03045e;\r\n  padding: 0.4em 0.6em 0.4em 0.6em;\r\n  user-select: none;\r\n  align-items: center;\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  &:span {\r\n    color: rgb(253, 253, 253);\r\n    font-size: 1rem;\r\n    margin-left: 1rem;\r\n  }\r\n  \r\n  @media (max-width: 600px) {\r\n        font-size: 16px;\r\n    }\r\n`;","import React, { useState, useContext, createContext } from 'react'\r\nimport { Container, Inner, Frame, Item, Title, Header, StyledLink } from '../accordion/styles/accordion'\r\n\r\nconst ToggleContext = createContext()\r\n\r\nexport default function Accordion({children, ...restProps}) {\r\n  return (\r\n    <Container {...restProps}>\r\n     <Inner>{children}</Inner> \r\n    </Container>\r\n  )\r\n}\r\n\r\nAccordion.Frame = function AccordionFrame({children, ...restProps}) {\r\n  return <Frame {...restProps}>{children}</Frame>\r\n}\r\n\r\nAccordion.Item = function AccordionItem({children, ...restProps}) {\r\n  const [toggleShow, setToggleShow] = useState(false)\r\n  return (\r\n    <ToggleContext.Provider value={{toggleShow, setToggleShow}}>\r\n      <Item {...restProps}>{children}</Item>\r\n    </ToggleContext.Provider>\r\n  )\r\n}\r\n\r\nAccordion.Title = function AccordionTitle({children, ...restProps}) {\r\n  return <Title {...restProps}>{children}</Title>\r\n}\r\n\r\nAccordion.Header = function AccordionHeader({children, ...restProps}) {\r\n  const {toggleShow, setToggleShow} = useContext(ToggleContext)\r\n  return (\r\n    <Header onClick={() => setToggleShow(!toggleShow)} {...restProps}>\r\n      {children}\r\n      {\r\n        toggleShow ? <span>▲</span> :\r\n                     <span>▼</span>\r\n      }\r\n    </Header>\r\n  )\r\n}\r\n\r\nAccordion.Body = function AccordionBody({children, ...restProps}) {\r\n  const {toggleShow} = useContext(ToggleContext)\r\n  return toggleShow ? <StyledLink {...restProps}>{children}</StyledLink> : null\r\n}","import {FaRegShareSquare, FaRegHeart, FaHeart, FaComment, FaRegComment, FaRegBookmark, FaBookmark} from \"react-icons/fa\"\r\nimport styled from \"styled-components\"\r\n\r\nfunction InteractionBar({children, ...restProps}) {\r\n  return (\r\n    <div className=\"interaction-bar__container\" {...restProps}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Inner = styled.div`\r\n  padding: 0 0.2em;\r\n  margin: 0.1em;\r\n  display: flex;\r\n  align-items: center;\r\n  border-top: 1px solid rgba(153, 152, 152, 0.5);\r\n`\r\n\r\nInteractionBar.Authorised = function InteractionBarAuthorised({length}) {\r\n  return (\r\n    <>\r\n    <div className=\"interaction-bar__authorised\"></div>\r\n      <Inner>\r\n        {length[0]}\r\n        {\r\n          length[0] === 0\r\n            ?\r\n          <FaRegComment className=\"icon\"/>\r\n            :\r\n          <FaComment className=\"icon\"/>\r\n        }\r\n      </Inner>\r\n\r\n      <Inner>\r\n        {length[1]}\r\n        {\r\n          length[1] === 0\r\n            ?\r\n          <FaRegBookmark className=\"icon\"/>\r\n            :\r\n          <FaBookmark className=\"icon\"/>\r\n        } \r\n      </Inner>\r\n\r\n      <Inner>\r\n        {length[2]}\r\n        {\r\n          length[2] === 0\r\n            ?\r\n          <FaRegHeart className=\"icon\"/>\r\n            :\r\n          <FaHeart className=\"icon\"/>\r\n        }\r\n     </Inner>      \r\n    </>\r\n  )\r\n}\r\n\r\nInteractionBar.Share = function InteractionBarShare({...restProps}) {\r\n  return <Inner><FaRegShareSquare className=\"icon__btn\" {...restProps}/></Inner>\r\n}\r\n\r\nInteractionBar.Like = function InteractionBarLike({isLiked, ...restProps}) {\r\n  return (\r\n    <Inner>\r\n      {isLiked ? <FaHeart className=\"icon__btn\" {...restProps}/> : <FaRegHeart className=\"icon__btn\" {...restProps}/>}\r\n    </Inner>\r\n  )\r\n}\r\n\r\nInteractionBar.Comment = function InteractionBarComment({...restProps}) {\r\n  return (\r\n    <Inner>\r\n      <FaRegComment className=\"icon__btn\" {...restProps}/>\r\n    </Inner>\r\n  ) \r\n}\r\n\r\nInteractionBar.Bookmark = function InteractionBarBookmark({bookmarked, ...restProps}) {\r\n  return (\r\n    <Inner>\r\n      {bookmarked ? <FaBookmark className=\"icon__btn\" {...restProps}/> : <FaRegBookmark className=\"icon__btn\" {...restProps}/>}\r\n    </Inner>\r\n  ) \r\n}\r\n\r\nInteractionBar.Hey = function InteractionBarHey({children, ...restProps}) {\r\n  return <div {...restProps}>{children}</div>\r\n}\r\n\r\nexport default InteractionBar\r\n\r\n\r\n\r\n","import { UserContext } from \"../contexts/UserContext\"\r\nimport { useContext, useEffect, useState } from \"react\"\r\nimport {TabView} from \".\"\r\nimport { db } from \"../firebase\"\r\n\r\nexport default function UserBlogs() {\r\n  const [blogs, setBlogs] = useState([])\r\n  const { user } = useContext(UserContext)\r\n\r\n\r\n  useEffect(() => {\r\n    let unsubscribe = db.collection('blogs').onSnapshot((snapshot) => {\r\n      setBlogs(snapshot.docs.map(doc => doc.data()).filter(blog => blog.authorId === user.uid))\r\n    })\r\n    return (() => unsubscribe())\r\n  }, [])\r\n\r\n  const tabs = [\r\n    {\r\n      name: \"published\",\r\n      title: \"Published\"\r\n    },\r\n    {\r\n      name: \"drafts\",\r\n      title: \"Drafts\"\r\n    },\r\n    {\r\n      name: \"comments\",\r\n      title: \"Comments\"\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <TabView tabs={tabs}>\r\n      <TabView.Frame>\r\n        <TabView.Tabs>\r\n          {tabs.map((tab, index) => (\r\n            <TabView.Tab id={index} key={tab.name} name={tab.name}>{tab.title}</TabView.Tab>\r\n          ))}\r\n        </TabView.Tabs>\r\n        <TabView.Slider />\r\n      </TabView.Frame>\r\n      <TabView.Body blogs={blogs} />\r\n    </TabView>\r\n  )\r\n}","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n  margin-top: 3em;\r\n`\r\n\r\nexport const Inner = styled.div`\r\n  margin-top: 1em;\r\n`\r\nexport const Frame = styled.section`\r\n  margin-top: 1em;\r\n`\r\nexport const Item = styled.div`\r\n  margin-top: 1em;\r\n`\r\nexport const Title = styled.h1`\r\n  margin-top: 1em;\r\n`\r\nexport const Body = styled.div`\r\n  margin-top: 1em;\r\n`\r\nexport const Menu = styled.nav`\r\n  position: fixed;\r\n  top: 5em;\r\n  z-index: 100;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transition: all 250ms cubic-bezier(.5, 0, .5, 1);\r\n  left: ${({left}) => left};\r\n  background: #fefefe;\r\n  padding: 0.5em 0.5em;\r\n  box-shadow: 2px 2px 6px 1px #eeeeee;\r\n  transform: ${({menuOpen}) => menuOpen ? \"translateX(0%)\" : \"translateX(-100%)\"};\r\n  opacity: ${({menuOpen}) => menuOpen ? \"1\" : \"0\"};\r\n`\r\nexport const Hamburger = styled.div`\r\n    display: flex;\r\n    position: fixed;\r\n    background: transparent;\r\n    top: 5.5em;\r\n    left: 1.2em;\r\n    cursor: pointer;\r\n    height: 15px;\r\n    width: 1.4em;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 1000;\r\n    padding: 0.2em;\r\n    &::before {\r\n      position: absolute;\r\n      content: \"\";\r\n      background: gray;\r\n      width: 1.4em;\r\n      height: 3px;\r\n      border-radius: 1em;\r\n      box-shadow: 0 6px 0 0 gray,\r\n      0 -6px 0 0 gray;\r\n      transform: ${({menuOpen}) => menuOpen && \"rotate(-45deg) scaleX(0.7)\"};\r\n      box-shadow: ${({menuOpen}) => menuOpen && \"0 0 0 0 gray\"};\r\n      transition: all 190ms ease-in;\r\n    }\r\n    &::after {\r\n      position: absolute;\r\n      content: \"\";\r\n      background: gray;\r\n      width: 1.4em;\r\n      height: 3px;\r\n      border-radius: 1em;\r\n      transform: ${({menuOpen}) => menuOpen && \"rotate(45deg) scaleX(0.7)\"};\r\n      background: ${({menuOpen}) => menuOpen && \"gray\"};\r\n      transition: all 190ms ease-in;\r\n    }\r\n`\r\nexport const MenuList = styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  align-items: center;\r\n  padding-left: 0;\r\n`\r\nexport const MenuItem = styled.li`\r\n  color: inherit;\r\n  font-weight: 700;\r\n  flex-basis: 100%;\r\n  font-size: 1rem;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  margin: 0.2em;\r\n`\r\nexport const MenuLink = styled.p`\r\n  margin-top: 1em;\r\n  &:hover{\r\n    color: #00aeff;\r\n  }\r\n`","import {useContext, useState, useEffect} from \"react\"\r\nimport { UserContext } from \"../contexts/UserContext\"\r\nimport { Accordion } from \"../components\"\r\nimport useDocument from \"../hooks/useDocument\"\r\n\r\n\r\nexport default function DashboardActiveElement({toggleActive}) {\r\n  const [data, setData] = useState()\r\n  const { user, doc } = useContext(UserContext)\r\n  const userLog  = useDocument(\"users\", user.uid)\r\n\r\n  useEffect(() => {\r\n    userLog && setData(userLog[toggleActive])\r\n  }, [userLog, toggleActive])\r\n\r\n  return (\r\n    data ? <Accordion.Frame>\r\n        {data.length === 0 ? `No ${toggleActive} yet` : data.map(elm => {\r\n          let blog = doc.filter(blog => blog.id === elm)[0]\r\n          return (\r\n          <Accordion.Item key={elm}>\r\n            <Accordion.Header>\r\n              {blog.title} by {blog.author}\r\n            </Accordion.Header>\r\n              <Accordion.Body to={`blogs/${blog.id}`}>\r\n                {blog.body.slice(0, 25)} ...\r\n              </Accordion.Body>\r\n          </Accordion.Item>\r\n          )} \r\n        )}\r\n    </Accordion.Frame> : \r\n    <p>Loading...</p>\r\n  )\r\n}","import { useEffect, useState } from 'react';\r\nimport { db } from '../firebase'\r\n\r\nexport default function useContent(target, id) {\r\n    const [content, setContent] = useState();\r\n    const docRef = db.collection(target).doc(id)\r\n      \r\n    useEffect(() => {\r\n      let unsubscribe = docRef.get().then((doc) => {\r\n          if (doc.exists) {\r\n            setContent(doc.data())\r\n          } else {\r\n            setContent(\"No data\")\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        })\r\n      return unsubscribe\r\n    }, [])\r\n\r\n    return content;\r\n}","import React, { useState, useContext, createContext} from 'react'\r\nimport UserBlogs from '../user-blogs'\r\nimport { Container, Inner, Frame, Title, Body, Hamburger, Menu, MenuList, MenuItem, MenuLink } from './styles/dashboard'\r\nimport DashboardActiveElement from '../../containers/dasboard-active-element-container'\r\n\r\nconst ToggleContext = createContext()\r\n\r\nexport default function Dashboard({children, ...restProps}) {\r\n  const [toggleActive, setToggleActive] = useState(prev => !prev && 'blogs' )\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n \r\n  const handleClick = (name) => () => {\r\n    setToggleActive(name)\r\n    setMenuOpen(prev => !prev)\r\n  }\r\n\r\n  return (\r\n    <ToggleContext.Provider value={{toggleActive, setToggleActive, menuOpen, setMenuOpen, handleClick}}>\r\n      <Container {...restProps}>\r\n          <Inner>{children}</Inner> \r\n      </Container>\r\n    </ToggleContext.Provider>\r\n  )\r\n}\r\n\r\nDashboard.Frame = function DashboardFrame({children, ...restProps}) {\r\n  return <Frame {...restProps}>{children}</Frame>\r\n}\r\n\r\nDashboard.Item = function DashboardItem({children, ...restProps}) {\r\n  \r\n  const {toggleActive} = useContext(ToggleContext)\r\n  return (\r\n    toggleActive === \"blogs\" ?\r\n    <UserBlogs {...restProps}/> :\r\n    <DashboardActiveElement toggleActive={toggleActive} {...restProps}/>\r\n  )\r\n}\r\n\r\nDashboard.Title = function DashboardTitle({children, ...restProps}) {\r\n  const {toggleActive} = useContext(ToggleContext)\r\n  return <Title {...restProps}>{toggleActive.toUpperCase()}</Title>\r\n}\r\n\r\nDashboard.Body = function DashboardBody({children, userLog, ...restProps}) {\r\n  const {toggleActive} = useContext(ToggleContext)\r\n  return <Body {...restProps}>{children}{userLog[toggleActive].map(elm => <p>{elm}</p>)}</Body>\r\n}\r\n\r\nDashboard.Hamburger = function DashboardMenuButton({children, ...restProps}) {\r\n  const {setMenuOpen, menuOpen} = useContext(ToggleContext)\r\n  return (<Hamburger menuOpen={menuOpen} {...restProps} onClick={() => setMenuOpen(prev => !prev)}>\r\n  </Hamburger>)\r\n}\r\n\r\nDashboard.Menu = function DashboardMenu({children, left, ...restProps}) {\r\n  const {menuOpen, setMenuOpen} = useContext(ToggleContext)\r\n  return (<Menu menuOpen={menuOpen} onMouseLeave={() => setMenuOpen(false)} {...restProps}>\r\n    {children}\r\n  </Menu>)\r\n}\r\n\r\nDashboard.MenuList = function DashboardMenuList({children, ...restProps}) {\r\n  return <MenuList {...restProps}>{children}</MenuList>\r\n}\r\n\r\nDashboard.MenuItem = function DashboardMenuItem({children, ...restProps}) {\r\n  return (<MenuItem {...restProps}>\r\n    {children}\r\n  </MenuItem>)\r\n}\r\n\r\nDashboard.MenuLink = function DashboardMenuLink({children, name, ...restProps}) {\r\n  const {handleClick} = useContext(ToggleContext)\r\n  return (<MenuLink name={name} onClick={handleClick(name)} {...restProps}>\r\n    {children}\r\n  </MenuLink>)\r\n}","import { Link } from \"react-router-dom\";\r\nimport {ProfilePicture} from \"../components\";\r\n\r\nconst BlogList = ({blogs, showAuthor}) => {\r\n\r\n  return ( \r\n    <div className=\"blog-list\">\r\n      {blogs.map ((blog) => (\r\n        <div className=\"blog-preview\" key={blog.id}>\r\n          <Link to={`blogs/${blog.id}`}>\r\n            {showAuthor && <p>{blog.photoURL && <ProfilePicture displayName=\" \" photoURL={blog.photoURL} size=\"40px\" borderRadius=\"50%\"/>}by {blog.author}</p>}\r\n            <h2>{blog.title}</h2>\r\n            <h6>{blog.date}</h6>\r\n          </Link>\r\n        </div>\r\n      ))}\r\n    </div>\r\n   );\r\n}\r\n \r\nexport default BlogList;","import React, { useState, useContext, createContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport BlogList from \"../blog-list\"\r\n\r\nconst Slider = styled.div`\r\n  align-self: baseline;\r\n  left: 0;\r\n  transform: ${({sliderPos}) => `translateX(${sliderPos})`};\r\n  padding: 0.06em;\r\n  background-image: linear-gradient(to right, transparent 5% , #444 5% 95%, transparent 95% 100%);\r\n  border-radius: 50px;\r\n  width: 6em;\r\n  transition: transform 250ms cubic-bezier(.5, 0, .5, 1);\r\n`\r\nconst TabContext = createContext()\r\n\r\nexport default function TabView({tabs, children, ...restProps}) {\r\n  const [tab, setTab] = useState(tabs[0].name)\r\n  const [sliderPos, setSliderPos] = useState(1)\r\n  const tabCount = tabs.length\r\n  return (\r\n    <TabContext.Provider value={{tab, setTab, tabCount, sliderPos, setSliderPos}}>\r\n      <div className=\"dashboard__container\" {...restProps}>\r\n          <div className=\"dashboard__inner\">{children}</div> \r\n      </div>\r\n    </TabContext.Provider>\r\n  )\r\n}\r\n\r\nTabView.Frame = function TabViewFrame({children, ...restProps}) {\r\n  return <section className=\"dashboard__frame\" {...restProps}>{children}</section>\r\n}\r\n\r\nTabView.Tabs = function TabViewTabs({children, ...restProps}) {\r\n  return (\r\n    <div className=\"tabs-container\">\r\n      <div className=\"dashboard__tabs\" {...restProps}>{children}\r\n      </div>\r\n    </div>  \r\n  )\r\n}\r\n\r\nTabView.Slider = function TabViewSlider({...restProps}) {\r\n  const {sliderPos} = useContext(TabContext)\r\n  return <div className=\"slider-container\">\r\n  <Slider sliderPos={sliderPos} {...restProps} />\r\n  </div>\r\n}\r\n\r\nTabView.Title = function TabViewTitle({children, ...restProps}) {\r\n  const {tab} = useContext(TabContext)\r\n  return <h1 className=\"dashboard__title\" {...restProps}>{tab.toUpperCase()}</h1>\r\n}\r\n\r\nTabView.Tab = function TabViewTab({children, name, id, ...restProps}) {\r\n  const {tab, setTab, setSliderPos} = useContext(TabContext)\r\n  return (\r\n    <div name={name} id={id} className={tab === name ? 'dashboard__tab active-tab' : 'dashboard__tab'} onClick={() => {\r\n      setTab(name)\r\n      setSliderPos(() => `${id * 100}%`)\r\n    }} {...restProps}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nTabView.Body = function TabViewBody({children, userLog, blogs, ...restProps}) {\r\n  const {tab} = useContext(TabContext)\r\n  const blogList = tab === \"drafts\" ? blogs.filter(blog => !blog.published) : blogs.filter(blog => blog.published)\r\n\r\n  return (\r\n    <div className=\"dashboard__body\" {...restProps}>\r\n      {children}\r\n      {blogList.length === 0 ? `No ${tab}` : <BlogList blogs={blogList} />  }\r\n    </div>\r\n  ) \r\n}","import { FaChartLine } from \"react-icons/fa\"\r\nimport { Link } from 'react-router-dom'\r\nimport {ProfilePicture} from \"..\"\r\n\r\nfunction Feed({children, ...restProps}) {\r\n  return (\r\n    <div className=\"feed__container\" {...restProps}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nFeed.Banner = function FeedBanner({children, ...restProps}) {\r\n  return (<div className=\"feed__banner\" {...restProps}>{children}</div>)\r\n}\r\n\r\nFeed.Trending = function FeedTrending({children, ...restProps}) {\r\n  return (<div className=\"feed__trending\" {...restProps}>\r\n  <FaChartLine />\r\n  {children}\r\n  </div>)\r\n}\r\n\r\nFeed.Title = function FeedTitle({children,...restProps}) {\r\n  return (<h2 {...restProps} className=\"feed__title\">{children}</h2>)\r\n}\r\n\r\nFeed.Item = function FeedItem({children, user, handleClick, blog,...restProps}) {\r\n  return (\r\n    <div className=\"blog-preview\" {...restProps}>\r\n      <ProfilePicture handleClick={handleClick} photoURL={user.photoURL} size=\"40px\" borderRadius=\"50%\"/> \r\n      <Link to={`blogs/${blog.id}`}>\r\n        <h2>{blog.title}</h2>\r\n        <p>Written by: {blog.author}</p>\r\n      </Link>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nFeed.Discover = function FeedDiscover({children, ...restProps}) {\r\n  return (<div className=\"feed__discover\" {...restProps}>{children}</div>)\r\n}\r\n\r\nFeed.All = function FeedAll({children, ...restProps}) {\r\n  return (<div className=\"feed__all\" {...restProps}>{children}</div>)\r\n}\r\n\r\nexport default Feed\r\n\r\n// const BlogList = ({blogs, title}) => {\r\n\r\n//   return ( \r\n//     <div className=\"blog-list\">\r\n//       <h2>{title}</h2>\r\n//       {blogs.map ((blog) => (\r\n//         <div className=\"blog-preview\" key={blog.id}>\r\n//           <Link to={`blogs/${blog.id}`}>\r\n//             <h2>{blog.title}</h2>\r\n//             <p>Written by: {blog.author}</p>\r\n//           </Link>\r\n//         </div>\r\n//       ))}\r\n//     </div>\r\n//    );\r\n// }","import styled from 'styled-components';\r\nimport { Link as ReachRouterLink } from 'react-router-dom';\r\n\r\nexport const Container = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 660px;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  border-radius: 5px;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  margin: auto;\r\n  max-width: 450px;\r\n  padding: 60px 68px 40px;\r\n  margin-bottom: 100px;\r\n`;\r\n\r\nexport const Error = styled.div`\r\n  background: #e87c03;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  margin: 0 0 16px;\r\n  color: white;\r\n  padding: 15px 20px;\r\n`;\r\n\r\nexport const Success = styled.div`\r\n  background-color: rgb(173, 255, 174);\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  margin: 0 0 16px;\r\n  color: red;\r\n  padding: 15px 20px;\r\n  font-weight: 500;\r\n  text-align: center;\r\n`\r\n\r\nexport const Base = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 450px;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  color: #fff;\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  margin-bottom: 28px;\r\n`;\r\n\r\nexport const Text = styled.h1`\r\n  color: ${({colour}) => colour ?? \"#939393\"};\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const TextSmall = styled.h2`\r\n  margin-top: 10px;\r\n  font-size: 13px;\r\n  line-height: normal;\r\n  color: #8c8c8c;\r\n`;\r\n\r\nexport const Link = styled(ReachRouterLink)`\r\n  color: #fff;\r\n  text-decoration: none;\r\n  margin-left: 1ch;\r\n  &:hover {\r\n      text-decoration: underline;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  background: #333;\r\n  border-radius: 4px;\r\n  border: 0;\r\n  color: #fff;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  padding: 5px 20px;\r\n  margin-bottom: 20px;\r\n  \r\n  &:last-of-type {\r\n      margin-bottom: 30px;\r\n  }\r\n`;\r\n\r\nexport const Submit = styled.button`\r\n  background: #e50914;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  margin: 0 0 12px;\r\n  padding: 16px;\r\n  border: 0;\r\n  color: white;\r\n  cursor: pointer;\r\n  \r\n  &:disabled {\r\n      opacity: 0.5;\r\n  }\r\n`;","import React from 'react';\r\nimport { \r\n    Container, \r\n    Error,\r\n    Success, \r\n    Base, \r\n    Title, \r\n    Text, \r\n    TextSmall,\r\n    Link,\r\n    Input, \r\n    Submit \r\n} from './styles/form';\r\n\r\nexport default function Form({ children, ...restProps }) {\r\n    return <Container {...restProps}>{children}</Container>;\r\n}\r\n\r\nForm.Base = function FormBase({ children, ...restProps }) {\r\n    return <Base {...restProps}>{children}</Base>;\r\n}\r\n\r\nForm.Title = function FormTitle({ children, ...restProps }) {\r\n    return <Title {...restProps}>{children}</Title>;\r\n}\r\n\r\nForm.Text = function FormText({ children, ...restProps }) {\r\n    return <Text {...restProps}>{children}</Text>;\r\n}\r\n\r\nForm.TextSmall = function FormTextSmall({ children, ...restProps }) {\r\n    return <TextSmall {...restProps}>{children}</TextSmall>;\r\n}\r\n\r\nForm.Link = function FormLink({ children, ...restProps }) {\r\n    return <Link {...restProps}>{children}</Link>;\r\n}\r\n\r\nForm.Error = function FormError({ children, ...restProps }) {\r\n    return <Error {...restProps}>{children}</Error>;\r\n}\r\n\r\nForm.Success = function FormSuccess({ children, ...restProps }) {\r\n    return <Success {...restProps}>{children}</Success>;\r\n}\r\n\r\nForm.Input = function FormInput({ children, ...restProps }) {\r\n    return <Input {...restProps}>{children}</Input>;\r\n}\r\n\r\nForm.Submit = function FormSubmit({ children, ...restProps }) {\r\n    return <Submit {...restProps}>{children}</Submit>\r\n}","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  width: ${({size}) => size};\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`\r\n\r\nexport const ImageContainer = styled.div`\r\n  background: ${({photoURL}) => `lightBlue url(${photoURL}) no-repeat center center`}; \r\n  background-size: cover;\r\n  border-radius: ${({borderRadius}) => borderRadius};\r\n  height: ${({size}) => size};\r\n  width: ${({size}) => size};\r\n  cursor: pointer;\r\n  text-align: center;\r\n  border: 0.2px solid red;\r\n  box-shadow: 0 0 0.5px 0.5px rgb(248, 133, 133),\r\n              0 0 0.2px 0.2px rgb(221, 175, 175),\r\n              0 0 0.5px 1px red;\r\n`;\r\n\r\nexport const SubText = styled.div`\r\n  margin: 0.6em 0;\r\n  font-size: 0.8rem;\r\n  text-align: center;\r\n`","import React from 'react'\r\nimport { Container, ImageContainer, SubText } from './profile-picture-style'\r\n\r\nexport default function ProfilePicture({subText, size, borderRadius, photoURL, handleClick}) {\r\n  return (\r\n    <Container size={size}>\r\n      <ImageContainer size={size} borderRadius={borderRadius} photoURL={photoURL} onClick={handleClick}>\r\n      </ImageContainer>\r\n      {subText && <SubText >Click on your profile photo to choose file.</SubText>}\r\n    </Container>\r\n  )\r\n}\r\n","import { BlogDetails } from './blog-details'\r\nexport default BlogDetails\r\nexport { default as Accordion } from './accordion'\r\nexport { default as InteractionBar } from './interaction-bar'\r\nexport { default as Dashboard } from './dashboard'\r\nexport { default as TabView } from './tab-view'\r\nexport { default as Feed } from './feed'\r\nexport { default as Form } from './form'\r\nexport { default as ProfilePicture } from './profile-picture'\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function SignInAvatar() {\r\n  return (\r\n    <Link to=\"/\">\r\n      <img\r\n        src=\"../assets/images/avatar.png\"\r\n        alt=\"avatar\"\r\n        style={{  \r\n          backgroundSize: \"cover\",\r\n          borderRadius: \"50%\",\r\n          height: \"50px\",\r\n          width: \"50px\"\r\n        }}\r\n      />\r\n    </Link>\r\n  )\r\n}","import React, {useState} from 'react'\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { menuList } from './menulist'\r\nimport {ProfilePicture} from '../components'\r\nimport SignInAvatar from './sign-in-avatar'\r\nimport { auth } from '../firebase'\r\nimport { useAuthListener } from '../hooks'\r\n\r\nexport default function UserMenu() {\r\n  const history = useHistory()\r\n  const [error, setError] = useState(\"\")\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n  const { user } = useAuthListener()\r\n\r\n  function handleSignOut() {\r\n    auth.signOut().then(() => history.push(\"/\"))\r\n    .catch((error) => {\r\n      setError(`Failed to sign out: ${error.message}`)\r\n    })\r\n  }\r\n\r\n  const handleClick = () => setMenuOpen(prev => !prev)\r\n\r\n  return (\r\n    <>\r\n      {error && alert(error)}\r\n      {\r\n        user ?\r\n        <ProfilePicture\r\n          handleClick={handleClick}\r\n          subText={false}\r\n          id={user.uid}\r\n          photoURL={user ? user.photoURL : \"https://gravatar.com/avatar/8e1741bcab7ec27915445c32a5af4d97?s=600&d=mp&r=pg\"}\r\n          size=\"40px\"\r\n          borderRadius=\"50%\"\r\n        /> : \r\n        <SignInAvatar />\r\n      }\r\n      <div \r\n        onMouseLeave={() => setMenuOpen(false)}\r\n        className={menuOpen ? \"user__menu__container user__menu-open\" : \"user__menu__container\"}\r\n      >\r\n        <ul className=\"user__menu__list\">\r\n          {menuList.map(elm => (\r\n              <Link onClick={() => setMenuOpen(false)} key={elm.id} className=\"user__menu__link\" to={elm.to}>{elm.name}</Link>\r\n          ))}\r\n          <li\r\n            className=\"user__menu__link\"\r\n            onClick={() => handleSignOut()}\r\n          >\r\n            Sign Out\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport UserMenu from \"./user-menu\"\r\n\r\nfunction Header() {\r\n  return(\r\n    <ul className=\"nav\">\r\n      <li className=\"logo-container\">\r\n        <div className=\"logo-name\">BlogXL</div>\r\n        <div className=\"logo\"></div>\r\n      </li>\r\n      <li>\r\n        <UserMenu />\r\n      </li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Header","import React, { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { Form } from \"../components\"\r\nimport { auth } from \"../firebase\"\r\n\r\nfunction SignIn() {\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [error, setError] = useState(null)\r\n  const history = useHistory()\r\n  const isInvalid = password === '' | email === ''\r\n  \r\n  function handleSignIn(e){\r\n    e.preventDefault()\r\n    auth.signInWithEmailAndPassword(email, password)\r\n      .then(() => history.push(\"/ProfilePage\"))\r\n      .catch((error) => {\r\n        setEmail('')\r\n        setPassword('')\r\n        setError(error.message)\r\n      });\r\n  }\r\n  return(\r\n    <Form>\r\n      <Form.Title>Sign In</Form.Title>\r\n      {error && <Form.Error>{error}</Form.Error>}\r\n      <Form.Base onSubmit={handleSignIn}>\r\n        <Form.Input\r\n          required\r\n          value={email}\r\n          type=\"email\" \r\n          placeholder=\"Email Address\"\r\n          onChange={(e) => {\r\n            setEmail(e.target.value)\r\n          }}\r\n        />\r\n        <Form.Input\r\n          required\r\n          value={password}\r\n          autoComplete=\"off\"\r\n          type=\"password\" \r\n          placeholder=\"Your Password\"\r\n          onChange={(e) => {\r\n            setPassword(e.target.value)\r\n          }}\r\n        />\r\n        <Form.Submit disabled={isInvalid} type=\"submit\">\r\n          Sign In\r\n        </Form.Submit>\r\n        <Form.Text>\r\n          Don't have an account?\r\n          <Form.Link to=\"SignUp\">\r\n            Sign up here.\r\n          </Form.Link>\r\n        </Form.Text>\r\n        <Form.Text>\r\n          Forgot Your Password?\r\n          <Form.Link to=\"PasswordReset\">\r\n            Reset Password\r\n          </Form.Link>\r\n        </Form.Text>\r\n      </Form.Base>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default SignIn","import React, { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { Form } from \"../components\"\r\nimport { auth, db } from \"../firebase\"\r\n\r\nfunction SignUp() {\r\n  const [displayName, setDisplayName] = useState(\"\")\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [error, setError] = useState(null)\r\n  const history = useHistory()\r\n  const isInvalid = displayName === '' || password === '' || email === '';\r\n  \r\n  function handleSignup(e){\r\n    e.preventDefault()\r\n    auth.createUserWithEmailAndPassword(email, password)\r\n      .then((result) => result.user.updateProfile({\r\n          displayName: displayName,\r\n          photoURL: 'https://gravatar.com/avatar/8e1741bcab7ec27915445c32a5af4d97?s=600&d=mp&r=pg'\r\n        })\r\n        .then(() => {\r\n          const user = auth.currentUser\r\n          db.collection(\"users\").doc(user.uid).set({\r\n            likes: [],\r\n            bookmarks: [],\r\n            comments: [],\r\n            displayName: user.displayName,\r\n            drafts: [],\r\n            photoURL: user.photoURL,\r\n            published: []\r\n          })\r\n        })\r\n        .then(() => history.push('/ProfilePage'))\r\n      )\r\n      .catch((error) => {\r\n        setEmail('');\r\n        setPassword('');\r\n        setError(error.message);\r\n      }) \r\n }\r\n\r\n  return(\r\n    <Form>\r\n      <Form.Title>Sign Up</Form.Title>\r\n      \r\n      <Form.Base onSubmit={handleSignup}>\r\n        {error && <Form.Error>{error}</Form.Error>}\r\n        <Form.Input\r\n          required\r\n          value={displayName}\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          onChange={(e) => {setDisplayName(e.target.value)}}\r\n        />\r\n        <Form.Input\r\n          required\r\n          value={email}\r\n          type=\"email\"\r\n          placeholder=\"Email Address\"\r\n          onChange={(e) => {setEmail(e.target.value)}}\r\n        />\r\n        <Form.Input\r\n          required\r\n          value={password}\r\n          type=\"password\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Your Password\"\r\n          onChange={(e) => {\r\n          setPassword(e.target.value)}}\r\n        />        \r\n        <Form.Submit\r\n          disabled={isInvalid}\r\n          type=\"submit\"\r\n        >\r\n          Sign up\r\n        </Form.Submit>\r\n        <Form.Text>\r\n          Already have an account?{\" \"}\r\n          <Form.Link to=\"/\">Sign in here</Form.Link>\r\n        </Form.Text>\r\n      </Form.Base>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default SignUp","import React, { useState } from \"react\"\r\nimport { Form } from \"../components\"\r\nimport { auth } from \"../firebase\"\r\n\r\nfunction PasswordReset() {\r\n  const [email, setEmail] = useState(\"\")\r\n  const [emailSent, setEmailSent] = useState(false)\r\n  const [error, setError] = useState(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const isInvalid = email === ''\r\n  \r\n  function sendResetEmail(e) {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    auth.sendPasswordResetEmail(email)\r\n    .then(() => {\r\n      setEmailSent(\"An email has been sent. Check your inbox for further details.\")\r\n      setLoading(false)\r\n      setEmail(\"\")\r\n    })\r\n    .catch((error) => {\r\n      setError({msg: error.message, email: email})\r\n      setLoading(false)\r\n      setEmail(\"\")\r\n    })\r\n  }\r\n\r\n  return (\r\n    loading ? <p>Loading...</p> : \r\n\r\n    <Form>\r\n      <Form.Title>Password Reset</Form.Title>\r\n      {emailSent && <Form.Success className=\"success\">{emailSent}</Form.Success>}\r\n      {error && <Form.Error>{error.msg} <Form.Text colour=\"#efefef\">{error.email}</Form.Text></Form.Error>}\r\n      <Form.Base onSubmit={sendResetEmail}>\r\n        <Form.Input\r\n          required\r\n          value={email}\r\n          type=\"email\" \r\n          placeholder=\"Email Address\"\r\n          onChange={(e) => {\r\n            setEmail(e.target.value)\r\n          }}\r\n        />\r\n        <Form.Submit disabled={isInvalid} type=\"submit\">\r\n          Send me a reset link\r\n        </Form.Submit>\r\n        \r\n        <Form.Text>\r\n          &larr; Back to\r\n          <Form.Link to=\"/\">\r\n            Sign In page\r\n          </Form.Link>\r\n        </Form.Text>\r\n      </Form.Base>\r\n    </Form>\r\n  )\r\n}\r\nexport default PasswordReset","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Container = styled.div`\r\n  background: gray;\r\n  width: 20%;\r\n  color: white;\r\n`\r\nconst Bar = styled.div`\r\n  background: blue;\r\n  height: 8px;\r\n  width: ${({picLoadingPercent}) => `${picLoadingPercent}%`}\r\n`\r\n\r\nconst Text = styled.p`\r\n  color: white;\r\n  text-align: center;\r\n  border-bottom: 1px solid white;\r\n  padding-top: 0.6em;\r\n`\r\n\r\nexport default function LoadingBar({file, picLoadingPercent}) {\r\n  return (\r\n    <Container >\r\n     {file && <Text file={file}>File: {file.name} {file.size} KB</Text>}\r\n      <Bar picLoadingPercent={picLoadingPercent}></Bar>\r\n    </Container>\r\n  )\r\n}\r\n","import React, {useContext, useState, useRef} from \"react\"\r\nimport { UserContext } from \"../contexts/UserContext\"\r\nimport {ProfilePicture} from \"../components\";\r\nimport firebase, { storage } from \"../firebase\";\r\nimport LoadingBar from \"../components/loading-bar\";\r\nimport { useAuthListener, useSnapshot } from \"../hooks\";\r\n\r\nconst ProfilePage = () => {\r\n  const [file, setFile] = useState(\"\")\r\n  const [error, setError] = useState(\"\")\r\n  const [picLoadingPercent, setPicLoadingPercent] = useState(0)\r\n  const inputFileRef = useRef(null)\r\n  const {updateUser} = useContext(UserContext)\r\n  const { user } = useAuthListener()\r\n  const [photoUrl, setPhotoUrl] = useState(user.photoURL)\r\n  // const userLog = useSnapshot('users', user.uid)\r\n  const errorCodes = {\r\n    unauthorized: \"unauthorised request\",\r\n    canceled: \"canceled request\",\r\n    unknown: \"unknown file\"\r\n  }\r\n\r\n  const handleClick = () => inputFileRef.current.click()\r\n\r\n  function uploadPic(file) {\r\n    const metadata = {contentType: 'image/jpeg'}\r\n    const uploadTask = storage.ref().child('images/' + user.uid).put(file, metadata)\r\n    uploadTask\r\n    .on(firebase.storage.TaskEvent.STATE_CHANGED, \r\n      (snapshot) => {\r\n        let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n        setPicLoadingPercent(progress);\r\n      }, \r\n      (err) => {\r\n        err && setError(errorCodes[error.code.slice(8)])\r\n        }, \r\n      () => {\r\n        uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n          updateUser({photoURL: downloadURL})\r\n          setPhotoUrl(downloadURL)\r\n          setFile(\"\")\r\n          setPicLoadingPercent(0)\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-page__container\">\r\n      <div>\r\n        <ProfilePicture\r\n          photoURL={user ? photoUrl : \"https://gravatar.com/avatar/8e1741bcab7ec27915445c32a5af4d97?s=600&d=mp&r=pg\"}\r\n          handleClick={handleClick}\r\n          subText={true}\r\n          borderRadius=\"5%\"\r\n          size=\"10em\"\r\n        />\r\n        <input\r\n          style={{visibility: 'hidden'}}\r\n          type=\"file\"\r\n          ref={inputFileRef}\r\n          name=\"profilePic\"\r\n          onChange={(e) => setFile(e.target.files[0])}\r\n        />\r\n        <div>\r\n          {file && <LoadingBar picLoadingPercent={picLoadingPercent} file={file}/>\r\n          }\r\n          <button disabled={!file || ![0, 100].includes(picLoadingPercent)}\r\n            onClick={() => uploadPic(file)}\r\n          >upload</button>\r\n          {error && <h3>{error}</h3>}\r\n          <h3><span>Username: </span>{user.displayName}</h3>\r\n          <h3><span>Email address: </span>{user.email}</h3>\r\n          {/* {userLog ? <h3>{userLog.bookmarks.length} Bookmarks</h3> : null} */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ProfilePage\r\n\r\n","import { useState, useContext, useEffect } from 'react'\r\nimport { UserContext } from \"../contexts/UserContext\"\r\nimport { db } from '../firebase'\r\nimport { useHistory } from 'react-router'\r\n\r\nconst Create = () => {\r\n  const [blogId, setBlogId] = useState('')\r\n  const [isFirstClick, setIsFirstClick] = useState(true)\r\n  const [title, setTitle] = useState('')\r\n  const [body, setBody] = useState(\"\")\r\n  const { user, updateDoc } = useContext(UserContext)\r\n  const author = user.displayName\r\n  const history = useHistory()\r\n  \r\n  useEffect(() => {\r\n    if (!isFirstClick && title) {\r\n      handlePost()\r\n    }\r\n  }, [isFirstClick])\r\n\r\n  function handleBlur() {\r\n    setIsFirstClick(false)\r\n  }\r\n\r\n  function handleUpdateBody() {\r\n     updateDoc(\"blogs\", {body: body}, blogId)\r\n  }\r\n\r\n  function post(coll, blog) {\r\n    db\r\n    .collection(coll)\r\n    .add(blog)\r\n    .then((docRef) => {\r\n      setBlogId(docRef.id)\r\n      db.collection(coll).doc(docRef.id).update({\r\n        id: docRef.id\r\n      })\r\n    })\r\n    .catch((error) => {\r\n    console.error(\"Error adding document: \", error.message)\r\n  })\r\n  }\r\n  \r\n  const handlePost = () => {\r\n    let date = new Date().toLocaleDateString()\r\n    let time = new Date().toLocaleTimeString()\r\n    post(\"blogs\", {title, body, author, authorId: user.uid, date, time, bookmarks: [], likes: [], comments: [], published: false})\r\n  }\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (body.length === 0) {\r\n      window.alert(\"No blog body. Please submit after adding your blog body.\")\r\n    } else {\r\n      updateDoc(\"blogs\", {body: body, published: true}, blogId)\r\n      history.goBack()\r\n    }\r\n  }\r\n   \r\n  return ( \r\n    <div className=\"create\">\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Blog title</label>\r\n        <input\r\n          required\r\n          type=\"text\"\r\n          value={title}\r\n          onBlur={handleBlur}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <div className=\"blog-body\">\r\n          <label>Blog body</label>\r\n          <textarea\r\n            value={body}\r\n            onChange={(e) => setBody(e.target.value)}\r\n            onBlur={handleUpdateBody}\r\n          />  \r\n        </div>\r\n        <button className=\"publish\" type=\"submit\">Publish</button>\r\n      </form>\r\n    </div>\r\n   );\r\n}\r\n \r\nexport default Create;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({user, component: Component, ...rest}) => {\r\n \r\n  return (\r\n        <Route \r\n          {...rest} \r\n          render={props => {\r\n            return user ?\r\n                <Component {...props} />\r\n            : <Redirect to=\"/\" />\r\n          }}>\r\n        </Route>\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;","import React from \"react\"\r\nimport {Redirect, Route} from \"react-router-dom\"\r\n\r\nconst PublicRoute = ({user, component: Component, restricted, ...rest}) => {\r\n\r\n  return (\r\n    <Route {...rest} render={props => (\r\n      user && restricted ?\r\n      <Redirect to=\"/ProfilePage\" /> :\r\n      <Component {...props} />\r\n    )}\r\n    ></Route>\r\n  )\r\n}\r\n\r\nexport default PublicRoute","import React from \"react\"\r\nimport {Dashboard} from \"../components\"\r\n\r\nexport default function MyActivities() {\r\n\r\n  const dashboardMenuList = [\r\n    {\r\n      name: \"blogs\",\r\n      title: \"Your Blogs\"\r\n    },\r\n    {\r\n      name: \"bookmarks\",\r\n      title: \"Blogs You Bookmarked\"\r\n    },\r\n    {\r\n      name: \"recent\",\r\n      title: \"Your Recent Views\"\r\n    },\r\n    {\r\n      name: \"likes\",\r\n      title: \"Blogs You Liked\"\r\n    },\r\n    {\r\n      name: \"comments\",\r\n      title: \"Blogs You Commented on\"\r\n    }\r\n  ]\r\n  \r\n  return (\r\n    <div>\r\n      <Dashboard>\r\n        <Dashboard.Frame>\r\n          <Dashboard.Hamburger/>\r\n          <Dashboard.Menu>\r\n            <Dashboard.MenuList>\r\n              {dashboardMenuList.map((item) => (\r\n                <Dashboard.MenuItem key={item.name}>\r\n                  <Dashboard.MenuLink name={item.name}>{item.title}</Dashboard.MenuLink>\r\n                </Dashboard.MenuItem>\r\n              ))}\r\n            </Dashboard.MenuList> \r\n          </Dashboard.Menu>\r\n        </Dashboard.Frame>\r\n        <Dashboard.Frame>\r\n          <Dashboard.Title></Dashboard.Title>\r\n          <Dashboard.Item />\r\n        </Dashboard.Frame>\r\n      </Dashboard>\r\n    </div>\r\n  )\r\n}","import BlogList from '../components/blog-list'\r\nimport { UserContext } from \"../contexts/UserContext\"\r\nimport { useEffect, useContext, useState } from 'react'\r\n\r\nexport default function Blogs() {\r\n  const { getCollection, doc, getUserLog, user } = useContext(UserContext)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState('')\r\n\r\n  useEffect(() => {\r\n    setError(\"\")\r\n    setLoading(true)\r\n    new Promise(resolve => {\r\n      getCollection(\"blogs\")\r\n      getUserLog()\r\n      resolve(setLoading(false))\r\n    })\r\n    .catch(error =>setError(error.message))\r\n  }, [])\r\n  \r\n  return (\r\n    loading ? <p>Loading...</p> : <div className=\"blogs\">\r\n      {error && <div>{error}</div>}\r\n      <BlogList showAuthor={true} displayName={user.displayName} blogs={doc.filter(blog => blog.published)} title=\"All Blogs\"/>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 2em;\r\n  & p {\r\n    color: red;\r\n  }\r\n`\r\nconst GoBackButton = styled.button`\r\n  margin: 1em;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  font-size: 1rem;\r\n  padding: 0.4em 0.7em;\r\n  border: none; \r\n  &:hover {\r\n    color: red;\r\n  }\r\n`\r\n\r\nexport default function PageNotFound() {\r\n  const history = useHistory()\r\n  return (\r\n    <Container>\r\n      <p>\r\n        Sorry, the page you are trying to visit does not exist or you are not allowed.\r\n      </p>\r\n      <p>\r\n        If you are not signed in, try again after signing in.\r\n      </p>\r\n      <GoBackButton\r\n        onClick={() => history.goBack()}\r\n      >Go Back</GoBackButton>\r\n    </Container>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Switch, Route } from \"react-router-dom\"\r\nimport SignIn from \"../pages/SignIn\"\r\nimport SignUp from \"../pages/SignUp\"\r\nimport PasswordReset from \"../pages/PasswordReset\"\r\nimport ProfilePage from \"../pages/ProfilePage\"\r\nimport Create from \"../pages/Create\"\r\nimport PrivateRoute from \"../components/PrivateRoute\"\r\nimport PublicRoute from \"../components/PublicRoute\"\r\nimport MyActivities from \"../containers/MyActivities\"\r\nimport Blogs from \"../pages/Blogs\"\r\nimport BlogDetails  from \"../components\"\r\nimport {useAuthListener} from \"../hooks\"\r\nimport PageNotFound from \"../pages/page-not-found\"\r\n\r\nfunction MainRoutes() {\r\n  const { user } = useAuthListener()\r\n  return (\r\n    <div className=\"content\">\r\n      <Switch>\r\n        <PublicRoute\r\n          user={user}\r\n          exact path=\"/\"\r\n          restricted={true}\r\n          component={SignIn}\r\n        />\r\n        <PrivateRoute\r\n          exact path=\"/ProfilePage\"\r\n          user={user}\r\n          component={ProfilePage}\r\n        />\r\n        <PrivateRoute \r\n          path=\"/create\"\r\n          user={user} \r\n          component={Create}\r\n        />\r\n        <PrivateRoute\r\n          path=\"/MyActivities\"\r\n          user={user}\r\n          component={MyActivities}\r\n        />\r\n        <PrivateRoute\r\n          exact path=\"/blogs\"\r\n          user={user}\r\n          component={Blogs}\r\n        />\r\n        <PublicRoute\r\n          path=\"/PasswordReset\"\r\n          user={user}\r\n          restricted={false}\r\n          component={PasswordReset}\r\n        />\r\n        <PublicRoute \r\n          exact path=\"/Signup\"\r\n          user={user}\r\n          restricted={true}\r\n          component={SignUp}\r\n        />\r\n        <PrivateRoute\r\n          user={user}\r\n          exact path=\"/blogs/:id\"\r\n          component={BlogDetails}\r\n        />\r\n        <Route component={PageNotFound} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MainRoutes;","import React from \"react\"\r\nimport Header from \"./components/Header\"\r\nimport MainRoutes from \"./routes/main-routes\"\r\n\r\nfunction App() {\r\n  return (\r\n    <> \r\n      <Header />\r\n      <MainRoutes /> \r\n    </>\r\n  )\r\n}\r\n\r\nexport default App;","import { createGlobalStyle } from 'styled-components';\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n  html, body {\r\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    background-color: #fefefe;\r\n    font-size: 18px;\r\n    margin: 0;\r\n    color: #333;\r\n    box-sizing: border-box;\r\n    --logo: #21086e;\r\n    --logo-background: #f0e991;\r\n    --hover: #0c0d0e;\r\n    --hover-dark: #0081bd;\r\n    --mauvelous: #ff9fb2;\r\n    --navy: #03045e;\r\n    --star: #0077b6;\r\n    --cerulean: #00b4d8;\r\n    --sky-blue: #90e0ef;\r\n    --powder-blue: #caf0f8;\r\n  };\r\n`","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter as Router} from \"react-router-dom\"\r\nimport './index.css';\r\nimport App from './App';\r\nimport { UserContextProvider } from './contexts/UserContext';\r\nimport { GlobalStyles } from './global-styles';\r\n\r\nReactDOM.render(\r\n  <UserContextProvider>\r\n    <Router>\r\n      <GlobalStyles />\r\n      <App />\r\n    </Router>\r\n  </UserContextProvider>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}