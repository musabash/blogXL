(this["webpackJsonpblog-xl"]=this["webpackJsonpblog-xl"]||[]).push([[0],{111:function(e,t,n){},249:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(101),i=n.n(a),o=n(11),s=(n(111),n(4)),b=n(10),l=[{name:"Dashboard",id:0,to:"/MyActivities"},{name:"Profile Page",id:1,to:"/ProfilePage"},{name:"Create New Blog",id:2,to:"/create"},{name:"All Blogs",id:3,to:"/blogs"},{name:"Reset Password",id:4,to:"/PasswordReset"}],d=n(3),u=n(61),j=n.n(u),O=n(102),h=n(34),f=(n(113),n(251),n(250),h.a.initializeApp({apiKey:"AIzaSyDH6qgdUSNG54Q5boVg6CDks0fmY_cDPHU",authDomain:"movie-search-db.firebaseapp.com",databaseURL:"https://movie-search-db.firebaseio.com",projectId:"movie-search-db",storageBucket:"movie-search-db.appspot.com",messagingSenderId:"270785248528",appId:"1:270785248528:web:f30492ff20710d000d7995",measurementId:"G-K6RF0TX3EE"})),x=h.a.firestore();h.a.firestore().settings({timestampsInSnapshots:!0});var m=f.auth(),p=h.a.storage(),g=h.a;function v(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("authUser"))),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=m.onAuthStateChanged((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),r(e)):(localStorage.removeItem("authUser"),r(null))}));return function(){return e()}}),[]),{user:n}}var y=n(0),k=r.a.createContext();function S(e){var t=Object(c.useState)(!0),n=Object(s.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(s.a)(i,2),b=o[0],l=o[1],d=Object(c.useState)([]),u=Object(s.a)(d,2),h=u[0],f=u[1],m=Object(c.useState)(0),S=Object(s.a)(m,2),w=S[0],N=S[1],_=Object(c.useState)(""),C=Object(s.a)(_,2),E=C[0],L=C[1],P=v().user;function T(){return(T=Object(O.a)(j.a.mark((function e(t,n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=x.collection(t).doc(n),e.abrupt("return",c.get().then((function(e){return e.data()})).catch((function(e){console.log("Error getting document:",e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){g.auth().currentUser.updateProfile(e).catch((function(e){console.error("Error writing document: ",e)}))}Object(c.useEffect)((function(){a(!1)}),[]);var U={user:P,getDocument:function(e,t){return T.apply(this,arguments)},getCollection:function(e){x.collection(e).onSnapshot((function(e){l(e.docs.map((function(e){return e.data()})))}),(function(e){console.log(e)}))},doc:b,updateUser:z,deleteBlog:function(e,t){x.collection(e).doc(t).delete()},updateDoc:function(e,t,n){x.collection(e).doc(n).update(t)},reuploadData:function(){x.collection("blogs").onSnapshot((function(e){e.docs.forEach((function(e){x.collection("blogscopy").add(e.data()).then((function(e){return x.collection("blogscopy").doc(e.id).update({id:e.id})}))}))}))},getUserLog:function(){x.collection("users").doc(P.uid).get().then((function(e){e.exists?f(e.data()):f("No data")})).catch((function(e){console.log(e)}))},userLog:h,uploadPic:function(e){console.log(e);var t=p.ref().child("images/"+P.uid).put(e,{contentType:"image/jpeg"});t.on(g.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;N(t)}),(function(e){switch(e.code){case"storage/unauthorized":L("unauthorised request");break;case"storage/canceled":L("canceled request");break;case"storage/unknown":L("unknown file");break;default:L("")}}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){z({photoURL:e})}))}))},picLoadingPercent:w};return Object(y.jsxs)(k.Provider,{value:U,children:[r?Object(y.jsx)("p",{children:"Loading..."}):e.children,E&&Object(y.jsx)("p",{children:E})]})}var w=n(27);function N(e){var t=e.history;return Object(y.jsx)("button",{className:"go-back",onClick:function(){return t.goBack()},children:"\u25c0 Back"})}function _(e){var t=e.name,n=e.handleEdit;return Object(y.jsx)("button",{onClick:n,children:t})}var C=function(e){var t=e.id,n=e.deleteBlog,c=Object(b.g)();return Object(y.jsx)("button",{onClick:function(){n("blogs",t),c.push("/blogs")},children:"delete"})};function E(e){var t=e.id,n=e.authorised,r=e.blog,a=e.user,i=e.history,o=Object(c.useState)(),b=Object(s.a)(o,2),l=b[0],d=b[1],u=Object(c.useState)(),j=Object(s.a)(u,2),O=j[0],h=j[1];function f(e,n){var c=x.collection("blogs").doc(t),r=x.collection("users").doc(a.uid);e?(c.update(Object(w.a)({},n,g.firestore.FieldValue.arrayRemove(a.uid))),r.update(Object(w.a)({},n,g.firestore.FieldValue.arrayRemove(t)))):(c.update(Object(w.a)({},n,g.firestore.FieldValue.arrayUnion(a.uid))),r.update(Object(w.a)({},n,g.firestore.FieldValue.arrayUnion(t))))}return Object(c.useEffect)((function(){r&&(d(r.likes.includes(a.uid)),h(r.bookmarks.includes(a.uid)))}),[r]),Object(y.jsxs)(xe,{children:[Object(y.jsx)(N,{history:i}),Object(y.jsx)(xe.Share,{onClick:function(){return alert("This property will be added soon")}}),n?Object(y.jsx)(xe.Authorised,{length:[r.comments.length,r.bookmarks.length,r.likes.length]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(xe.Comment,{onClick:function(){return alert("This property will be added soon")}}),Object(y.jsx)(xe.Bookmark,{bookmarked:O,onClick:function(){return f(O,"bookmarks")}}),Object(y.jsx)(xe.Like,{isLiked:l,onClick:function(){return f(l,"likes")}})]})]})}var L=n(41),P=n.n(L),T=n(42),z=n.n(T);function U(e){var t=e.name,n=e.value,r=e.onChangeHandler,a=Object(c.useState)("50px"),i=Object(s.a)(a,2),o=i[0],b=i[1],l=Object(c.useRef)(),d=Object(c.useRef)();Object(c.useEffect)((function(){l&&b(l.current.offsetHeight)}),[n]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("textarea",{onChange:function(e){r(Object(w.a)({},t,e.target.value))},ref:d,style:{height:o},value:n}),Object(y.jsx)("div",{ref:l,style:{position:"absolute",fontSize:"2.5rem",visibility:"hidden"},children:Object(y.jsx)(P.a,{remarkPlugins:[z.a],className:"markdown",children:n})})]})}function B(e){e.children;var t=e.dataPrimary,n=e.dataSecondary,c=e.span;return Object(y.jsxs)("div",{className:"metadata",children:[Object(y.jsxs)("h3",{className:"primary__metadata",children:[t," ",Object(y.jsx)("span",{children:c})]}),Object(y.jsx)("h4",{className:"secondary__metadata",children:n})]})}function R(e){var t=e.isEditable,n=e.handleEdit,c=e.id,r=e.authorised,a=e.handleDelete,i=e.handleUpdate,o=e.published;return Object(y.jsxs)("div",{className:"edit__btns__container",children:[r&&Object(y.jsx)(_,{name:t?"cancel":"edit",handleEdit:n}),r&&t&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C,{id:c,deleteBlog:a}),Object(y.jsx)(_,{handleEdit:i,name:"save"}),!o&&Object(y.jsx)(_,{handleEdit:function(){return i(!0)},name:"publish"})]})]})}var A,D,I,H,F,M,q,Y=n(5),G=n(7),X=n(8),V=Object(X.b)(o.b)(A||(A=Object(G.a)(["\n  box-sizing: border-box;\n  transition: max-height 0.25s cubic-bezier(0.5, 0, 0.1, 1);\n  font-size: 20px;\n  font-weight: normal;\n  line-height: normal;\n  background: #0077b6;\n  color: white;\n  padding: 0.4em 0.6em 0.4em 0.6em;\n  user-select: none;\n  align-items: center;\n  width: 100%;\n  border-radius: 5px;\n  transition: all 250ms cubic-bezier(.5, 0, .5, 1);\n  text-decoration: none;\n  display: block;\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n  }\n  \n  @media (max-width: 600px) {\n    font-size: 16px;\n    line-height: 22px;\n  }\n"]))),J=X.b.section(D||(D=Object(G.a)(["\n  display: flex;\n  border-bottom: 4px solid #222;\n"]))),W=X.b.div(I||(I=Object(G.a)(["\n  display: flex;\n  padding: 70px 45px;\n  flex-direction: column;\n  max-width: 815px;\n  margin: auto;\n"]))),K=X.b.section(H||(H=Object(G.a)(["\n  margin-bottom: 1em;\n  max-width: 1200px;\n"]))),Q=X.b.div(F||(F=Object(G.a)(["\n  color: #ffffff;\n  margin-bottom: 1em;\n  &:first-of-type {\n  margin-top: 1em;\n}\n"]))),Z=X.b.h1(M||(M=Object(G.a)(["\n  font-size: 50px;\n  line-height: 1.1;\n  margin-top: 0;\n  margin-bottom: 0.6em;\n  color: rgb(255, 255, 255);\n  text-align: center;\n  \n  @media (max-width: 600px) {\n      font-size: 35px;\n  }\n"]))),$=X.b.div(q||(q=Object(G.a)(["\n  display: flex;\n  justify-content: space-between;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin-bottom: 2px;\n  font-size: 26px;\n  color: white;\n  font-weight: normal;\n  background: #03045e;\n  padding: 0.4em 0.6em 0.4em 0.6em;\n  user-select: none;\n  align-items: center;\n  width: 100%;\n  border-radius: 5px;\n  &:span {\n    color: rgb(253, 253, 253);\n    font-size: 1rem;\n    margin-left: 1rem;\n  }\n  \n  @media (max-width: 600px) {\n        font-size: 16px;\n    }\n"]))),ee=Object(c.createContext)();function te(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(J,Object(d.a)(Object(d.a)({},n),{},{children:Object(y.jsx)(W,{children:t})}))}te.Frame=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(K,Object(d.a)(Object(d.a)({},n),{},{children:t}))},te.Item=function(e){var t=e.children,n=Object(Y.a)(e,["children"]),r=Object(c.useState)(!1),a=Object(s.a)(r,2),i=a[0],o=a[1];return Object(y.jsx)(ee.Provider,{value:{toggleShow:i,setToggleShow:o},children:Object(y.jsx)(Q,Object(d.a)(Object(d.a)({},n),{},{children:t}))})},te.Title=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(Z,Object(d.a)(Object(d.a)({},n),{},{children:t}))},te.Header=function(e){var t=e.children,n=Object(Y.a)(e,["children"]),r=Object(c.useContext)(ee),a=r.toggleShow,i=r.setToggleShow;return Object(y.jsxs)($,Object(d.a)(Object(d.a)({onClick:function(){return i(!a)}},n),{},{children:[t,a?Object(y.jsx)("span",{children:"\u25b2"}):Object(y.jsx)("span",{children:"\u25bc"})]}))},te.Body=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(c.useContext)(ee).toggleShow?Object(y.jsx)(V,Object(d.a)(Object(d.a)({},n),{},{children:t})):null};var ne,ce=n(17);function re(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)("div",Object(d.a)(Object(d.a)({className:"interaction-bar__container"},n),{},{children:t}))}var ae=X.b.div(ne||(ne=Object(G.a)(["\n  padding: 0 0.2em;\n  margin: 0.1em;\n  display: flex;\n  align-items: center;\n  border-top: 1px solid rgba(153, 152, 152, 0.5);\n"])));re.Authorised=function(e){var t=e.length;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"interaction-bar__authorised"}),Object(y.jsxs)(ae,{children:[t[0],0===t[0]?Object(y.jsx)(ce.f,{className:"icon"}):Object(y.jsx)(ce.c,{className:"icon"})]}),Object(y.jsxs)(ae,{children:[t[1],0===t[1]?Object(y.jsx)(ce.e,{className:"icon"}):Object(y.jsx)(ce.a,{className:"icon"})]}),Object(y.jsxs)(ae,{children:[t[2],0===t[2]?Object(y.jsx)(ce.g,{className:"icon"}):Object(y.jsx)(ce.d,{className:"icon"})]})]})},re.Share=function(e){var t=Object.assign({},e);return Object(y.jsx)(ae,{children:Object(y.jsx)(ce.h,Object(d.a)({className:"icon__btn"},t))})},re.Like=function(e){var t=e.isLiked,n=Object(Y.a)(e,["isLiked"]);return Object(y.jsx)(ae,{children:t?Object(y.jsx)(ce.d,Object(d.a)({className:"icon__btn"},n)):Object(y.jsx)(ce.g,Object(d.a)({className:"icon__btn"},n))})},re.Comment=function(e){var t=Object.assign({},e);return Object(y.jsx)(ae,{children:Object(y.jsx)(ce.f,Object(d.a)({className:"icon__btn"},t))})},re.Bookmark=function(e){var t=e.bookmarked,n=Object(Y.a)(e,["bookmarked"]);return Object(y.jsx)(ae,{children:t?Object(y.jsx)(ce.a,Object(d.a)({className:"icon__btn"},n)):Object(y.jsx)(ce.e,Object(d.a)({className:"icon__btn"},n))})},re.Hey=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)("div",Object(d.a)(Object(d.a)({},n),{},{children:t}))};var ie,oe,se,be,le,de,ue,je,Oe,he,fe,xe=re;function me(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useContext)(k).user;Object(c.useEffect)((function(){var e=x.collection("blogs").onSnapshot((function(e){r(e.docs.map((function(e){return e.data()})).filter((function(e){return e.authorId===a.uid})))}));return function(){return e()}}),[]);var i=[{name:"published",title:"Published"},{name:"drafts",title:"Drafts"},{name:"comments",title:"Comments"}];return Object(y.jsxs)(Re,{tabs:i,children:[Object(y.jsxs)(Re.Frame,{children:[Object(y.jsx)(Re.Tabs,{children:i.map((function(e,t){return Object(y.jsx)(Re.Tab,{id:t,name:e.name,children:e.title},e.name)}))}),Object(y.jsx)(Re.Slider,{})]}),Object(y.jsx)(Re.Body,{blogs:n})]})}var pe=X.b.div(ie||(ie=Object(G.a)(["\n  margin-top: 3em;\n"]))),ge=X.b.div(oe||(oe=Object(G.a)(["\n  margin-top: 1em;\n"]))),ve=X.b.section(se||(se=Object(G.a)(["\n  margin-top: 1em;\n"]))),ye=(X.b.div(be||(be=Object(G.a)(["\n  margin-top: 1em;\n"]))),X.b.h1(le||(le=Object(G.a)(["\n  margin-top: 1em;\n"])))),ke=X.b.div(de||(de=Object(G.a)(["\n  margin-top: 1em;\n"]))),Se=X.b.nav(ue||(ue=Object(G.a)(["\n  position: fixed;\n  top: 5em;\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  transition: all 250ms cubic-bezier(.5, 0, .5, 1);\n  left: ",";\n  background: #fefefe;\n  padding: 0.5em 0.5em;\n  box-shadow: 2px 2px 6px 1px #eeeeee;\n  transform: ",";\n  opacity: ",";\n"])),(function(e){return e.left}),(function(e){return e.menuOpen?"translateX(0%)":"translateX(-100%)"}),(function(e){return e.menuOpen?"1":"0"})),we=X.b.div(je||(je=Object(G.a)(['\n    display: flex;\n    position: fixed;\n    background: transparent;\n    top: 5.5em;\n    left: 1.2em;\n    cursor: pointer;\n    height: 15px;\n    width: 1.4em;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n    padding: 0.2em;\n    &::before {\n      position: absolute;\n      content: "";\n      background: gray;\n      width: 1.4em;\n      height: 3px;\n      border-radius: 1em;\n      box-shadow: 0 6px 0 0 gray,\n      0 -6px 0 0 gray;\n      transform: ',";\n      box-shadow: ",';\n      transition: all 190ms ease-in;\n    }\n    &::after {\n      position: absolute;\n      content: "";\n      background: gray;\n      width: 1.4em;\n      height: 3px;\n      border-radius: 1em;\n      transform: ',";\n      background: ",";\n      transition: all 190ms ease-in;\n    }\n"])),(function(e){return e.menuOpen&&"rotate(-45deg) scaleX(0.7)"}),(function(e){return e.menuOpen&&"0 0 0 0 gray"}),(function(e){return e.menuOpen&&"rotate(45deg) scaleX(0.7)"}),(function(e){return e.menuOpen&&"gray"})),Ne=X.b.ul(Oe||(Oe=Object(G.a)(["\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n  padding-left: 0;\n"]))),_e=X.b.li(he||(he=Object(G.a)(["\n  color: inherit;\n  font-weight: 700;\n  flex-basis: 100%;\n  font-size: 1rem;\n  text-decoration: none;\n  cursor: pointer;\n  margin: 0.2em;\n"]))),Ce=X.b.p(fe||(fe=Object(G.a)(["\n  margin-top: 1em;\n  &:hover{\n    color: #00aeff;\n  }\n"])));function Ee(e){var t=e.toggleActive,n=Object(c.useState)(),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(c.useContext)(k),b=o.user,l=o.doc,d=function(e,t){var n=Object(c.useState)(),r=Object(s.a)(n,2),a=r[0],i=r[1],o=x.collection(e).doc(t);return Object(c.useEffect)((function(){return o.get().then((function(e){e.exists?i(e.data()):i("No data")})).catch((function(e){console.log(e)}))}),[]),a}("users",b.uid);return Object(c.useEffect)((function(){d&&i(d[t])}),[d,t]),a?Object(y.jsx)(te.Frame,{children:0===a.length?"No ".concat(t," yet"):a.map((function(e){var t=l.filter((function(t){return t.id===e}))[0];return Object(y.jsxs)(te.Item,{children:[Object(y.jsxs)(te.Header,{children:[t.title," by ",t.author]}),Object(y.jsxs)(te.Body,{to:"blogs/".concat(t.id),children:[t.body.slice(0,25)," ..."]})]},e)}))}):Object(y.jsx)("p",{children:"Loading..."})}var Le=Object(c.createContext)();function Pe(e){var t=e.children,n=Object(Y.a)(e,["children"]),r=Object(c.useState)((function(e){return!e&&"blogs"})),a=Object(s.a)(r,2),i=a[0],o=a[1],b=Object(c.useState)(!1),l=Object(s.a)(b,2),u=l[0],j=l[1];return Object(y.jsx)(Le.Provider,{value:{toggleActive:i,setToggleActive:o,menuOpen:u,setMenuOpen:j,handleClick:function(e){return function(){o(e),j((function(e){return!e}))}}},children:Object(y.jsx)(pe,Object(d.a)(Object(d.a)({},n),{},{children:Object(y.jsx)(ge,{children:t})}))})}Pe.Frame=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(ve,Object(d.a)(Object(d.a)({},n),{},{children:t}))},Pe.Item=function(e){e.children;var t=Object(Y.a)(e,["children"]),n=Object(c.useContext)(Le).toggleActive;return"blogs"===n?Object(y.jsx)(me,Object(d.a)({},t)):Object(y.jsx)(Ee,Object(d.a)({toggleActive:n},t))},Pe.Title=function(e){e.children;var t=Object(Y.a)(e,["children"]),n=Object(c.useContext)(Le).toggleActive;return Object(y.jsx)(ye,Object(d.a)(Object(d.a)({},t),{},{children:n.toUpperCase()}))},Pe.Body=function(e){var t=e.children,n=e.userLog,r=Object(Y.a)(e,["children","userLog"]),a=Object(c.useContext)(Le).toggleActive;return Object(y.jsxs)(ke,Object(d.a)(Object(d.a)({},r),{},{children:[t,n[a].map((function(e){return Object(y.jsx)("p",{children:e})}))]}))},Pe.Hamburger=function(e){e.children;var t=Object(Y.a)(e,["children"]),n=Object(c.useContext)(Le),r=n.setMenuOpen,a=n.menuOpen;return Object(y.jsx)(we,Object(d.a)(Object(d.a)({menuOpen:a},t),{},{onClick:function(){return r((function(e){return!e}))}}))},Pe.Menu=function(e){var t=e.children,n=(e.left,Object(Y.a)(e,["children","left"])),r=Object(c.useContext)(Le),a=r.menuOpen,i=r.setMenuOpen;return Object(y.jsx)(Se,Object(d.a)(Object(d.a)({menuOpen:a,onMouseLeave:function(){return i(!1)}},n),{},{children:t}))},Pe.MenuList=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(Ne,Object(d.a)(Object(d.a)({},n),{},{children:t}))},Pe.MenuItem=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(_e,Object(d.a)(Object(d.a)({},n),{},{children:t}))},Pe.MenuLink=function(e){var t=e.children,n=e.name,r=Object(Y.a)(e,["children","name"]),a=Object(c.useContext)(Le).handleClick;return Object(y.jsx)(Ce,Object(d.a)(Object(d.a)({name:n,onClick:a(n)},r),{},{children:t}))};var Te,ze=function(e){var t=e.blogs,n=e.showAuthor;return Object(y.jsx)("div",{className:"blog-list",children:t.map((function(e){return Object(y.jsx)("div",{className:"blog-preview",children:Object(y.jsxs)(o.b,{to:"blogs/".concat(e.id),children:[n&&Object(y.jsxs)("p",{children:[e.photoURL&&Object(y.jsx)(dt,{displayName:" ",photoURL:e.photoURL,size:"40px",borderRadius:"50%"}),"by ",e.author]}),Object(y.jsx)("h2",{children:e.title}),Object(y.jsx)("h6",{children:e.date})]})},e.id)}))})},Ue=X.b.div(Te||(Te=Object(G.a)(["\n  align-self: baseline;\n  left: 0;\n  transform: ",";\n  padding: 0.06em;\n  background-image: linear-gradient(to right, transparent 5% , #444 5% 95%, transparent 95% 100%);\n  border-radius: 50px;\n  width: 6em;\n  transition: transform 250ms cubic-bezier(.5, 0, .5, 1);\n"])),(function(e){var t=e.sliderPos;return"translateX(".concat(t,")")})),Be=Object(c.createContext)();function Re(e){var t=e.tabs,n=e.children,r=Object(Y.a)(e,["tabs","children"]),a=Object(c.useState)(t[0].name),i=Object(s.a)(a,2),o=i[0],b=i[1],l=Object(c.useState)(1),u=Object(s.a)(l,2),j=u[0],O=u[1],h=t.length;return Object(y.jsx)(Be.Provider,{value:{tab:o,setTab:b,tabCount:h,sliderPos:j,setSliderPos:O},children:Object(y.jsx)("div",Object(d.a)(Object(d.a)({className:"dashboard__container"},r),{},{children:Object(y.jsx)("div",{className:"dashboard__inner",children:n})}))})}function Ae(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)("div",Object(d.a)(Object(d.a)({className:"feed__container"},n),{},{children:t}))}Re.Frame=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)("section",Object(d.a)(Object(d.a)({className:"dashboard__frame"},n),{},{children:t}))},Re.Tabs=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)("div",{className:"tabs-container",children:Object(y.jsx)("div",Object(d.a)(Object(d.a)({className:"dashboard__tabs"},n),{},{children:t}))})},Re.Slider=function(e){var t=Object.assign({},e),n=Object(c.useContext)(Be).sliderPos;return Object(y.jsx)("div",{className:"slider-container",children:Object(y.jsx)(Ue,Object(d.a)({sliderPos:n},t))})},Re.Title=function(e){e.children;var t=Object(Y.a)(e,["children"]),n=Object(c.useContext)(Be).tab;return Object(y.jsx)("h1",Object(d.a)(Object(d.a)({className:"dashboard__title"},t),{},{children:n.toUpperCase()}))},Re.Tab=function(e){var t=e.children,n=e.name,r=e.id,a=Object(Y.a)(e,["children","name","id"]),i=Object(c.useContext)(Be),o=i.tab,s=i.setTab,b=i.setSliderPos;return Object(y.jsx)("div",Object(d.a)(Object(d.a)({name:n,id:r,className:o===n?"dashboard__tab active-tab":"dashboard__tab",onClick:function(){s(n),b((function(){return"".concat(100*r,"%")}))}},a),{},{children:t}))},Re.Body=function(e){var t=e.children,n=(e.userLog,e.blogs),r=Object(Y.a)(e,["children","userLog","blogs"]),a=Object(c.useContext)(Be).tab,i="drafts"===a?n.filter((function(e){return!e.published})):n.filter((function(e){return e.published}));return Object(y.jsxs)("div",Object(d.a)(Object(d.a)({className:"dashboard__body"},r),{},{children:[t,0===i.length?"No ".concat(a):Object(y.jsx)(ze,{blogs:i})]}))},Ae.Banner=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)("div",Object(d.a)(Object(d.a)({className:"feed__banner"},n),{},{children:t}))},Ae.Trending=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsxs)("div",Object(d.a)(Object(d.a)({className:"feed__trending"},n),{},{children:[Object(y.jsx)(ce.b,{}),t]}))},Ae.Title=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)("h2",Object(d.a)(Object(d.a)({},n),{},{className:"feed__title",children:t}))},Ae.Item=function(e){var t=e.children,n=e.user,c=e.handleClick,r=e.blog,a=Object(Y.a)(e,["children","user","handleClick","blog"]);return Object(y.jsxs)("div",Object(d.a)(Object(d.a)({className:"blog-preview"},a),{},{children:[Object(y.jsx)(dt,{handleClick:c,photoURL:n.photoURL,size:"40px",borderRadius:"50%"}),Object(y.jsxs)(o.b,{to:"blogs/".concat(r.id),children:[Object(y.jsx)("h2",{children:r.title}),Object(y.jsxs)("p",{children:["Written by: ",r.author]})]}),t]}))},Ae.Discover=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)("div",Object(d.a)(Object(d.a)({className:"feed__discover"},n),{},{children:t}))},Ae.All=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)("div",Object(d.a)(Object(d.a)({className:"feed__all"},n),{},{children:t}))};var De,Ie,He,Fe,Me,qe,Ye,Ge,Xe,Ve,Je,We,Ke,Qe=X.b.section(De||(De=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 660px;\n  background-color: rgba(0, 0, 0, 0.7);\n  border-radius: 5px;\n  box-sizing: border-box;\n  width: 100%;\n  margin: auto;\n  max-width: 450px;\n  padding: 60px 68px 40px;\n  margin-bottom: 100px;\n"]))),Ze=X.b.div(Ie||(Ie=Object(G.a)(["\n  background: #e87c03;\n  border-radius: 4px;\n  font-size: 14px;\n  margin: 0 0 16px;\n  color: white;\n  padding: 15px 20px;\n"]))),$e=X.b.div(He||(He=Object(G.a)(["\n  background-color: rgb(173, 255, 174);\n  border-radius: 4px;\n  font-size: 14px;\n  margin: 0 0 16px;\n  color: red;\n  padding: 15px 20px;\n  font-weight: 500;\n  text-align: center;\n"]))),et=X.b.form(Fe||(Fe=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 450px;\n  width: 100%;\n"]))),tt=X.b.h1(Me||(Me=Object(G.a)(["\n  color: #fff;\n  font-size: 32px;\n  font-weight: bold;\n  margin-bottom: 28px;\n"]))),nt=X.b.h1(qe||(qe=Object(G.a)(["\n  color: ",";\n  font-size: 16px;\n  font-weight: 500;\n"])),(function(e){var t=e.colour;return null!==t&&void 0!==t?t:"#939393"})),ct=X.b.h2(Ye||(Ye=Object(G.a)(["\n  margin-top: 10px;\n  font-size: 13px;\n  line-height: normal;\n  color: #8c8c8c;\n"]))),rt=Object(X.b)(o.b)(Ge||(Ge=Object(G.a)(["\n  color: #fff;\n  text-decoration: none;\n  margin-left: 1ch;\n  &:hover {\n      text-decoration: underline;\n  }\n"]))),at=X.b.input(Xe||(Xe=Object(G.a)(["\n  background: #333;\n  border-radius: 4px;\n  border: 0;\n  color: #fff;\n  height: 50px;\n  line-height: 50px;\n  padding: 5px 20px;\n  margin-bottom: 20px;\n  \n  &:last-of-type {\n      margin-bottom: 30px;\n  }\n"]))),it=X.b.button(Ve||(Ve=Object(G.a)(["\n  background: #e50914;\n  border-radius: 4px;\n  font-size: 16px;\n  font-weight: bold;\n  margin: 0 0 12px;\n  padding: 16px;\n  border: 0;\n  color: white;\n  cursor: pointer;\n  \n  &:disabled {\n      opacity: 0.5;\n  }\n"])));function ot(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(Qe,Object(d.a)(Object(d.a)({},n),{},{children:t}))}ot.Base=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(et,Object(d.a)(Object(d.a)({},n),{},{children:t}))},ot.Title=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(tt,Object(d.a)(Object(d.a)({},n),{},{children:t}))},ot.Text=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(nt,Object(d.a)(Object(d.a)({},n),{},{children:t}))},ot.TextSmall=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(ct,Object(d.a)(Object(d.a)({},n),{},{children:t}))},ot.Link=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(rt,Object(d.a)(Object(d.a)({},n),{},{children:t}))},ot.Error=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(Ze,Object(d.a)(Object(d.a)({},n),{},{children:t}))},ot.Success=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)($e,Object(d.a)(Object(d.a)({},n),{},{children:t}))},ot.Input=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(at,Object(d.a)(Object(d.a)({},n),{},{children:t}))},ot.Submit=function(e){var t=e.children,n=Object(Y.a)(e,["children"]);return Object(y.jsx)(it,Object(d.a)(Object(d.a)({},n),{},{children:t}))};var st=X.b.div(Je||(Je=Object(G.a)(["\n  display: flex;\n  width: ",";\n  flex-direction: column;\n  justify-content: center;\n"])),(function(e){return e.size})),bt=X.b.div(We||(We=Object(G.a)(["\n  background: ","; \n  background-size: cover;\n  border-radius: ",";\n  height: ",";\n  width: ",";\n  cursor: pointer;\n  text-align: center;\n  border: 0.2px solid red;\n  box-shadow: 0 0 0.5px 0.5px rgb(248, 133, 133),\n              0 0 0.2px 0.2px rgb(221, 175, 175),\n              0 0 0.5px 1px red;\n"])),(function(e){var t=e.photoURL;return"lightBlue url(".concat(t,") no-repeat center center")}),(function(e){return e.borderRadius}),(function(e){return e.size}),(function(e){return e.size})),lt=X.b.div(Ke||(Ke=Object(G.a)(["\n  margin: 0.6em 0;\n  font-size: 0.8rem;\n  text-align: center;\n"])));function dt(e){var t=e.subText,n=e.size,c=e.borderRadius,r=e.photoURL,a=e.handleClick;return Object(y.jsxs)(st,{size:n,children:[Object(y.jsx)(bt,{size:n,borderRadius:c,photoURL:r,onClick:a}),t&&Object(y.jsx)(lt,{children:"Click on your profile photo to choose file."})]})}var ut=function(){var e=Object(b.h)().id,t=Object(c.useContext)(k),n=t.deleteBlog,r=t.updateDoc,a=t.user,i=Object(c.useState)(""),o=Object(s.a)(i,2),l=o[0],u=o[1],j=Object(c.useState)(null),O=Object(s.a)(j,2),h=O[0],f=(O[1],Object(b.g)()),m=!!a&&a.uid===l.authorId;function p(e){w({type:"ON_CHANGE",payload:e})}Object(c.useEffect)((function(){x.collection("blogs").doc(e).get().then((function(t){if(t.exists){var n=x.collection("blogs").onSnapshot((function(t){u(t.docs.filter((function(t){return t.id===e}))[0].data())}));return function(){return n()}}alert("There is no such document!"),f.goBack()}))}),[]),Object(c.useEffect)((function(){l&&w({type:"ON_CHANGE",payload:{title:l.title,body:l.body,isPublished:l.published}})}),[l]);var g=Object(c.useReducer)((function(t,c){switch(c.type){case"HANDLE_EDIT":return Object(d.a)(Object(d.a)({},t),{},{body:l.body,isEditable:!t.isEditable});case"HANDLE_UPDATE":var a={title:t.title,body:t.body,published:t.isPublished};return r("blogs",a,e),Object(d.a)(Object(d.a)({},t),{},{isEditable:!t.isEditable});case"HANDLE_DELETE":return n("blogs",e),f.goBack(),t;case"ON_CHANGE":return Object(d.a)(Object(d.a)({},t),c.payload);case"PUBLISH":return r("blogs",{published:!0},e),Object(d.a)(Object(d.a)({},t),{},{isPublished:!0});default:return t}}),{isEditable:!1,body:"",isPublished:"",title:""}),v=Object(s.a)(g,2),S=v[0],w=v[1];return h?Object(y.jsx)("p",{children:h}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(E,{history:f,user:a,blog:l,authorised:m,id:e}),Object(y.jsx)("div",{className:"blog-details",children:Object(y.jsxs)("article",{children:[Object(y.jsx)(B,{span:l.author,dataPrimary:"Written by",dataSecondary:l.date}),S.isEditable?Object(y.jsx)("div",{className:"blog-title",children:Object(y.jsx)(U,{name:"title",value:S.title,onChangeHandler:p})}):Object(y.jsx)(P.a,{remarkPlugins:[z.a],className:"markdown",children:S.title,components:{p:"h1"}}),Object(y.jsx)("div",{className:"blog-body",children:S.isEditable?Object(y.jsx)(U,{name:"body",value:S.body,onChangeHandler:p}):Object(y.jsx)(P.a,{remarkPlugins:[z.a],className:"markdown",children:S.body})}),Object(y.jsx)(R,{isEditable:S.isEditable,handleEdit:function(){return w({type:"HANDLE_EDIT"})},id:e,published:S.isPublished,authorised:m,handleDelete:function(){return w({type:"HANDLE_DELETE"})},handleUpdate:function(){return w({type:"HANDLE_UPDATE"})}})]})})]})};function jt(){return Object(y.jsx)(o.b,{to:"/",children:Object(y.jsx)("img",{src:"../assets/images/avatar.png",alt:"avatar",style:{backgroundSize:"cover",borderRadius:"50%",height:"50px",width:"50px"}})})}function Ot(){var e=Object(b.g)(),t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),d=Object(s.a)(i,2),u=d[0],j=d[1],O=v().user;return Object(y.jsxs)(y.Fragment,{children:[r&&alert(r),O?Object(y.jsx)(dt,{handleClick:function(){return j((function(e){return!e}))},subText:!1,id:O.uid,photoURL:O?O.photoURL:"https://gravatar.com/avatar/8e1741bcab7ec27915445c32a5af4d97?s=600&d=mp&r=pg",size:"40px",borderRadius:"50%"}):Object(y.jsx)(jt,{}),Object(y.jsx)("div",{onMouseLeave:function(){return j(!1)},className:u?"user__menu__container user__menu-open":"user__menu__container",children:Object(y.jsxs)("ul",{className:"user__menu__list",children:[l.map((function(e){return Object(y.jsx)(o.b,{onClick:function(){return j(!1)},className:"user__menu__link",to:e.to,children:e.name},e.id)})),Object(y.jsx)("li",{className:"user__menu__link",onClick:function(){m.signOut().then((function(){return e.push("/")})).catch((function(e){a("Failed to sign out: ".concat(e.message))}))},children:"Sign Out"})]})})]})}var ht=function(){return Object(y.jsxs)("ul",{className:"nav",children:[Object(y.jsxs)("li",{className:"logo-container",children:[Object(y.jsx)("div",{className:"logo-name",children:"BlogXL"}),Object(y.jsx)("div",{className:"logo"})]}),Object(y.jsx)("li",{children:Object(y.jsx)(Ot,{})})]})};var ft=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],d=Object(c.useState)(null),u=Object(s.a)(d,2),j=u[0],O=u[1],h=Object(b.g)(),f=""===o|""===n;return Object(y.jsxs)(ot,{children:[Object(y.jsx)(ot.Title,{children:"Sign In"}),j&&Object(y.jsx)(ot.Error,{children:j}),Object(y.jsxs)(ot.Base,{onSubmit:function(e){e.preventDefault(),m.signInWithEmailAndPassword(n,o).then((function(){return h.push("/ProfilePage")})).catch((function(e){r(""),l(""),O(e.message)}))},children:[Object(y.jsx)(ot.Input,{required:!0,value:n,type:"email",placeholder:"Email Address",onChange:function(e){r(e.target.value)}}),Object(y.jsx)(ot.Input,{required:!0,value:o,autoComplete:"off",type:"password",placeholder:"Your Password",onChange:function(e){l(e.target.value)}}),Object(y.jsx)(ot.Submit,{disabled:f,type:"submit",children:"Sign In"}),Object(y.jsxs)(ot.Text,{children:["Don't have an account?",Object(y.jsx)(ot.Link,{to:"SignUp",children:"Sign up here."})]}),Object(y.jsxs)(ot.Text,{children:["Forgot Your Password?",Object(y.jsx)(ot.Link,{to:"PasswordReset",children:"Reset Password"})]})]})]})};var xt=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],d=Object(c.useState)(""),u=Object(s.a)(d,2),j=u[0],O=u[1],h=Object(c.useState)(null),f=Object(s.a)(h,2),p=f[0],g=f[1],v=Object(b.g)(),k=""===n||""===j||""===o;return Object(y.jsxs)(ot,{children:[Object(y.jsx)(ot.Title,{children:"Sign Up"}),Object(y.jsxs)(ot.Base,{onSubmit:function(e){e.preventDefault(),m.createUserWithEmailAndPassword(o,j).then((function(e){return e.user.updateProfile({displayName:n,photoURL:"https://gravatar.com/avatar/8e1741bcab7ec27915445c32a5af4d97?s=600&d=mp&r=pg"}).then((function(){var e=m.currentUser;x.collection("users").doc(e.uid).set({likes:[],bookmarks:[],comments:[],displayName:e.displayName,drafts:[],photoURL:e.photoURL,published:[]})})).then((function(){return v.push("/ProfilePage")}))})).catch((function(e){l(""),O(""),g(e.message)}))},children:[p&&Object(y.jsx)(ot.Error,{children:p}),Object(y.jsx)(ot.Input,{required:!0,value:n,type:"text",placeholder:"Username",onChange:function(e){r(e.target.value)}}),Object(y.jsx)(ot.Input,{required:!0,value:o,type:"email",placeholder:"Email Address",onChange:function(e){l(e.target.value)}}),Object(y.jsx)(ot.Input,{required:!0,value:j,type:"password",autoComplete:"off",placeholder:"Your Password",onChange:function(e){O(e.target.value)}}),Object(y.jsx)(ot.Submit,{disabled:k,type:"submit",children:"Sign up"}),Object(y.jsxs)(ot.Text,{children:["Already have an account?"," ",Object(y.jsx)(ot.Link,{to:"/",children:"Sign in here"})]})]})]})};var mt,pt,gt,vt=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(s.a)(a,2),o=i[0],b=i[1],l=Object(c.useState)(null),d=Object(s.a)(l,2),u=d[0],j=d[1],O=Object(c.useState)(!1),h=Object(s.a)(O,2),f=h[0],x=h[1],p=""===n;return f?Object(y.jsx)("p",{children:"Loading..."}):Object(y.jsxs)(ot,{children:[Object(y.jsx)(ot.Title,{children:"Password Reset"}),o&&Object(y.jsx)(ot.Success,{className:"success",children:o}),u&&Object(y.jsxs)(ot.Error,{children:[u.msg," ",Object(y.jsx)(ot.Text,{colour:"#efefef",children:u.email})]}),Object(y.jsxs)(ot.Base,{onSubmit:function(e){e.preventDefault(),x(!0),m.sendPasswordResetEmail(n).then((function(){b("An email has been sent. Check your inbox for further details."),x(!1),r("")})).catch((function(e){j({msg:e.message,email:n}),x(!1),r("")}))},children:[Object(y.jsx)(ot.Input,{required:!0,value:n,type:"email",placeholder:"Email Address",onChange:function(e){r(e.target.value)}}),Object(y.jsx)(ot.Submit,{disabled:p,type:"submit",children:"Send me a reset link"}),Object(y.jsxs)(ot.Text,{children:["\u2190 Back to",Object(y.jsx)(ot.Link,{to:"/",children:"Sign In page"})]})]})]})},yt=X.b.div(mt||(mt=Object(G.a)(["\n  background: gray;\n  width: 20%;\n  color: white;\n"]))),kt=X.b.div(pt||(pt=Object(G.a)(["\n  background: blue;\n  height: 8px;\n  width: ","\n"])),(function(e){var t=e.picLoadingPercent;return"".concat(t,"%")})),St=X.b.p(gt||(gt=Object(G.a)(["\n  color: white;\n  text-align: center;\n  border-bottom: 1px solid white;\n  padding-top: 0.6em;\n"])));function wt(e){var t=e.file,n=e.picLoadingPercent;return Object(y.jsxs)(yt,{children:[t&&Object(y.jsxs)(St,{file:t,children:["File: ",t.name," ",t.size," KB"]}),Object(y.jsx)(kt,{picLoadingPercent:n})]})}var Nt,_t,Ct=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],b=i[1],l=Object(c.useState)(0),d=Object(s.a)(l,2),u=d[0],j=d[1],O=Object(c.useRef)(null),h=Object(c.useContext)(k).updateUser,f=v().user,x=Object(c.useState)(f.photoURL),m=Object(s.a)(x,2),S=m[0],w=m[1],N={unauthorized:"unauthorised request",canceled:"canceled request",unknown:"unknown file"};return Object(y.jsx)("div",{className:"profile-page__container",children:Object(y.jsxs)("div",{children:[Object(y.jsx)(dt,{photoURL:f?S:"https://gravatar.com/avatar/8e1741bcab7ec27915445c32a5af4d97?s=600&d=mp&r=pg",handleClick:function(){return O.current.click()},subText:!0,borderRadius:"5%",size:"10em"}),Object(y.jsx)("input",{style:{visibility:"hidden"},type:"file",ref:O,name:"profilePic",onChange:function(e){return r(e.target.files[0])}}),Object(y.jsxs)("div",{children:[n&&Object(y.jsx)(wt,{picLoadingPercent:u,file:n}),Object(y.jsx)("button",{disabled:!n||![0,100].includes(u),onClick:function(){return function(e){var t=p.ref().child("images/"+f.uid).put(e,{contentType:"image/jpeg"});t.on(g.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;j(t)}),(function(e){e&&b(N[o.code.slice(8)])}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){h({photoURL:e}),w(e),r(""),j(0)}))}))}(n)},children:"upload"}),o&&Object(y.jsx)("h3",{children:o}),Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{children:"Username: "}),f.displayName]}),Object(y.jsxs)("h3",{children:[Object(y.jsx)("span",{children:"Email address: "}),f.email]})]})]})})},Et=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),i=Object(s.a)(a,2),o=i[0],l=i[1],d=Object(c.useState)(""),u=Object(s.a)(d,2),j=u[0],O=u[1],h=Object(c.useState)(""),f=Object(s.a)(h,2),m=f[0],p=f[1],g=Object(c.useContext)(k),v=g.user,S=g.updateDoc,w=v.displayName,N=Object(b.g)();Object(c.useEffect)((function(){!o&&j&&_()}),[o]);var _=function(){var e,t,n=(new Date).toLocaleDateString(),c=(new Date).toLocaleTimeString();e="blogs",t={title:j,body:m,author:w,authorId:v.uid,date:n,time:c,bookmarks:[],likes:[],comments:[],published:!1},x.collection(e).add(t).then((function(t){r(t.id),x.collection(e).doc(t.id).update({id:t.id})})).catch((function(e){console.error("Error adding document: ",e.message)}))};return Object(y.jsx)("div",{className:"create",children:Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0===m.length?window.alert("No blog body. Please submit after adding your blog body."):(S("blogs",{body:m,published:!0},n),N.goBack())},children:[Object(y.jsx)("label",{children:"Blog title"}),Object(y.jsx)("input",{required:!0,type:"text",value:j,onBlur:function(){l(!1)},onChange:function(e){return O(e.target.value)}}),Object(y.jsxs)("div",{className:"blog-body",children:[Object(y.jsx)("label",{children:"Blog body"}),Object(y.jsx)("textarea",{value:m,onChange:function(e){return p(e.target.value)},onBlur:function(){S("blogs",{body:m},n)}})]}),Object(y.jsx)("button",{className:"publish",type:"submit",children:"Publish"})]})})},Lt=function(e){var t=e.user,n=e.component,c=Object(Y.a)(e,["user","component"]);return Object(y.jsx)(b.b,Object(d.a)(Object(d.a)({},c),{},{render:function(e){return t?Object(y.jsx)(n,Object(d.a)({},e)):Object(y.jsx)(b.a,{to:"/"})}}))},Pt=function(e){var t=e.user,n=e.component,c=e.restricted,r=Object(Y.a)(e,["user","component","restricted"]);return Object(y.jsx)(b.b,Object(d.a)(Object(d.a)({},r),{},{render:function(e){return t&&c?Object(y.jsx)(b.a,{to:"/ProfilePage"}):Object(y.jsx)(n,Object(d.a)({},e))}}))};function Tt(){return Object(y.jsx)("div",{children:Object(y.jsxs)(Pe,{children:[Object(y.jsxs)(Pe.Frame,{children:[Object(y.jsx)(Pe.Hamburger,{}),Object(y.jsx)(Pe.Menu,{children:Object(y.jsx)(Pe.MenuList,{children:[{name:"blogs",title:"Your Blogs"},{name:"bookmarks",title:"Blogs You Bookmarked"},{name:"recent",title:"Your Recent Views"},{name:"likes",title:"Blogs You Liked"},{name:"comments",title:"Blogs You Commented on"}].map((function(e){return Object(y.jsx)(Pe.MenuItem,{children:Object(y.jsx)(Pe.MenuLink,{name:e.name,children:e.title})},e.name)}))})})]}),Object(y.jsxs)(Pe.Frame,{children:[Object(y.jsx)(Pe.Title,{}),Object(y.jsx)(Pe.Item,{})]})]})})}function zt(){var e=Object(c.useContext)(k),t=e.getCollection,n=e.doc,r=e.getUserLog,a=e.user,i=Object(c.useState)(!1),o=Object(s.a)(i,2),b=o[0],l=o[1],d=Object(c.useState)(""),u=Object(s.a)(d,2),j=u[0],O=u[1];return Object(c.useEffect)((function(){O(""),l(!0),new Promise((function(e){t("blogs"),r(),e(l(!1))})).catch((function(e){return O(e.message)}))}),[]),b?Object(y.jsx)("p",{children:"Loading..."}):Object(y.jsxs)("div",{className:"blogs",children:[j&&Object(y.jsx)("div",{children:j}),Object(y.jsx)(ze,{showAuthor:!0,displayName:a.displayName,blogs:n.filter((function(e){return e.published})),title:"All Blogs"})]})}var Ut=X.b.div(Nt||(Nt=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-top: 2em;\n  & p {\n    color: red;\n  }\n"]))),Bt=X.b.button(_t||(_t=Object(G.a)(["\n  margin: 1em;\n  cursor: pointer;\n  font-weight: 500;\n  font-size: 1rem;\n  padding: 0.4em 0.7em;\n  border: none; \n  &:hover {\n    color: red;\n  }\n"])));function Rt(){var e=Object(b.g)();return Object(y.jsxs)(Ut,{children:[Object(y.jsx)("p",{children:"Sorry, the page you are trying to visit does not exist or you are not allowed."}),Object(y.jsx)("p",{children:"If you are not signed in, try again after signing in."}),Object(y.jsx)(Bt,{onClick:function(){return e.goBack()},children:"Go Back"})]})}var At=function(){var e=v().user;return Object(y.jsx)("div",{className:"content",children:Object(y.jsxs)(b.d,{children:[Object(y.jsx)(Pt,{user:e,exact:!0,path:"/",restricted:!0,component:ft}),Object(y.jsx)(Lt,{exact:!0,path:"/ProfilePage",user:e,component:Ct}),Object(y.jsx)(Lt,{path:"/create",user:e,component:Et}),Object(y.jsx)(Lt,{path:"/MyActivities",user:e,component:Tt}),Object(y.jsx)(Lt,{exact:!0,path:"/blogs",user:e,component:zt}),Object(y.jsx)(Pt,{path:"/PasswordReset",user:e,restricted:!1,component:vt}),Object(y.jsx)(Pt,{exact:!0,path:"/Signup",user:e,restricted:!0,component:xt}),Object(y.jsx)(Lt,{user:e,exact:!0,path:"/blogs/:id",component:ut}),Object(y.jsx)(b.b,{component:Rt})]})})};var Dt,It=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ht,{}),Object(y.jsx)(At,{})]})},Ht=Object(X.a)(Dt||(Dt=Object(G.a)(["\n  html, body {\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: #fefefe;\n    font-size: 18px;\n    margin: 0;\n    color: #333;\n    box-sizing: border-box;\n    --logo: #21086e;\n    --logo-background: #f0e991;\n    --hover: #0c0d0e;\n    --hover-dark: #0081bd;\n    --mauvelous: #ff9fb2;\n    --navy: #03045e;\n    --star: #0077b6;\n    --cerulean: #00b4d8;\n    --sky-blue: #90e0ef;\n    --powder-blue: #caf0f8;\n  };\n"])));i.a.render(Object(y.jsx)(S,{children:Object(y.jsxs)(o.a,{children:[Object(y.jsx)(Ht,{}),Object(y.jsx)(It,{})]})}),document.getElementById("root"))}},[[249,1,2]]]);
//# sourceMappingURL=main.636a2bc6.chunk.js.map